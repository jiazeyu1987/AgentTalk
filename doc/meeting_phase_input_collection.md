# ä¼šè®®é˜¶æ®µçš„å¤–éƒ¨è¾“å…¥éœ€æ±‚è¯†åˆ«ä¸æ”¶é›†æœºåˆ¶

## æ–‡æ¡£ä¿¡æ¯

- **æ–‡æ¡£åç§°**ï¼šä¼šè®®é˜¶æ®µçš„å¤–éƒ¨è¾“å…¥éœ€æ±‚è¯†åˆ«ä¸æ”¶é›†ï¼ˆMeeting Phase Input Collectionï¼‰
- **ç‰ˆæœ¬**ï¼šv1.0
- **åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-06
- **ç›®çš„**ï¼šåœ¨ä¼šè®®é˜¶æ®µé›†ä¸­è¯†åˆ«å’Œæ”¶é›†æ‰€æœ‰å¤–éƒ¨è¾“å…¥éœ€æ±‚ï¼Œé¿å…æ‰§è¡Œé˜¶æ®µçš„åå¤é˜»å¡

---

## ä¸€ã€æ ¸å¿ƒæ€æƒ³

### 1.1 é—®é¢˜å®šä¹‰

**åŸæœ‰æµç¨‹çš„é—®é¢˜**ï¼š
```
ç”¨æˆ·æäº¤ä»»åŠ¡
  â†“
ä¼šè®®è®¨è®ºï¼Œåˆ†é…ä»»åŠ¡ç»™ä¸“å®¶
  â†“
ä¸“å®¶æ¥åˆ°ä»»åŠ¡ â†’ åˆ†æ â†’ å‘ç°éœ€è¦å¤–éƒ¨è¾“å…¥
  â†“
è¿›å…¥BLOCKED_WAITING_INPUTçŠ¶æ€
  â†“
ç”¨æˆ·è¡¥å……è¾“å…¥1
  â†“
ä¸“å®¶ç»§ç»­æ‰§è¡Œ â†’ åˆå‘ç°éœ€è¦å…¶ä»–è¾“å…¥
  â†“
å†æ¬¡BLOCKED
  â†“
ç”¨æˆ·è¡¥å……è¾“å…¥2
  â†“
...ï¼ˆå¯èƒ½å¤šæ¬¡åå¤ï¼‰
```

**é—®é¢˜**ï¼š
- âŒ ç”¨æˆ·éœ€è¦å¤šæ¬¡è¡¥å……è¾“å…¥ï¼Œä½“éªŒå·®
- âŒ ä¸“å®¶å¼€å§‹æ‰§è¡Œåæ‰å‘ç°ç¼ºä¸œè¥¿ï¼Œæµªè´¹æ—¶é—´
- âŒ ä»»åŠ¡è¿›åº¦è¢«æ‰“æ–­ï¼Œå½±å“æ•ˆç‡
- âŒ æ€»ç»ç†æ— æ³•æå‰é¢„åˆ¤éœ€è¦ä»€ä¹ˆææ–™

### 1.2 ä¼˜åŒ–åçš„æµç¨‹

**æ–°æµç¨‹**ï¼š
```
ç”¨æˆ·æäº¤ä»»åŠ¡
  â†“
ä¼šè®®è®¨è®º
  â†“
ã€å…³é”®ç¯èŠ‚ã€‘ä¼šè®®ä¸­è¯†åˆ«æ‰€æœ‰å¤–éƒ¨è¾“å…¥éœ€æ±‚
  â†“
ä¼šè®®äº§å‡ºï¼šä»»åŠ¡åˆ†é…æ¸…å• + ç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
  â†“
ç”¨æˆ·ä¸€æ¬¡æ€§æä¾›æ‰€æœ‰è¾“å…¥ï¼ˆæˆ–åˆ†æ‰¹æä¾›ï¼‰
  â†“
æ€»ç»ç†éªŒè¯å¹¶åˆ†å‘è¾“å…¥ç»™å¯¹åº”ä¸“å®¶
  â†“
ä¸“å®¶æ‰§è¡Œï¼ˆä¸å†å› ç¼ºè¾“å…¥è€Œé˜»å¡ï¼‰
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç”¨æˆ·æå‰çŸ¥é“éœ€è¦æä¾›ä»€ä¹ˆ
- âœ… å¯ä»¥ä¸€æ¬¡æ€§å‡†å¤‡æ‰€æœ‰ææ–™
- âœ… ä¸“å®¶å¼€å§‹æ‰§è¡Œæ—¶å·²æœ‰å¿…éœ€è¾“å…¥
- âœ… ä»»åŠ¡è¿›åº¦è¿ç»­ï¼Œä¸è¢«æ‰“æ–­
- âœ… æ€»ç»ç†å¯ä»¥æå‰åè°ƒèµ„æº

---

## äºŒã€ä¼šè®®æµç¨‹çš„æ‰©å±•

### 2.1 åŸä¼šè®®æµç¨‹

```
1. å¬é›†è€…å‘é€ä¼šè®®é‚€è¯·
2. è¢«é‚€è¯·çš„Agentå‡†å¤‡è¾“å…¥
3. ä¼šè®®åè°ƒå™¨æ”¶é›†æ‰€æœ‰è¾“å…¥
4. LLMè¿›è¡Œå¤šè½®åå•†
5. è¾¾æˆå…±è¯†åï¼Œç”Ÿæˆä¼šè®®çºªè¦
6. ç”Ÿæˆä»»åŠ¡åˆ†é…æ¸…å•
7. åˆ†å‘ä»»åŠ¡ç»™å¯¹åº”çš„Agent
```

### 2.2 æ–°å¢ï¼šå¤–éƒ¨è¾“å…¥éœ€æ±‚è¯†åˆ«ç¯èŠ‚

```
1. å¬é›†è€…å‘é€ä¼šè®®é‚€è¯·
2. è¢«é‚€è¯·çš„Agentå‡†å¤‡è¾“å…¥
3. ä¼šè®®åè°ƒå™¨æ”¶é›†æ‰€æœ‰è¾“å…¥
4. LLMè¿›è¡Œå¤šè½®åå•†
   â””â”€> ã€æ–°å¢ã€‘åœ¨è®¨è®ºä¸­è¯†åˆ«éœ€è¦çš„å¤–éƒ¨è¾“å…¥
5. è¾¾æˆå…±è¯†åï¼Œç”Ÿæˆä¼šè®®çºªè¦
   â””â”€> ã€æ–°å¢ã€‘ç”Ÿæˆç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
6. ç”Ÿæˆä»»åŠ¡åˆ†é…æ¸…å•
7. ã€æ–°å¢ã€‘å‘ç”¨æˆ·è¯·æ±‚è¾“å…¥
8. ã€æ–°å¢ã€‘ç”¨æˆ·æä¾›è¾“å…¥
9. ã€æ–°å¢ã€‘æ€»ç»ç†éªŒè¯å¹¶åˆ†å‘è¾“å…¥
10. åˆ†å‘ä»»åŠ¡ç»™å¯¹åº”çš„Agentï¼ˆé™„å¸¦è¾“å…¥ï¼‰
```

### 2.3 ä¼šè®®è®¨è®ºä¸­çš„è¾“å…¥è¯†åˆ«

**ä¼šè®®LLMæç¤ºè¯æ¨¡æ¿**ï¼š

```markdown
# ä¼šè®®è§’è‰²ï¼š{role}

## ä¼šè®®èŒè´£

1. å‚ä¸ä»»åŠ¡è®¨è®ºå’Œæ–¹æ¡ˆåˆ¶å®š
2. **è¯†åˆ«ä»»åŠ¡æ‰€éœ€çš„å¤–éƒ¨è¾“å…¥**
3. **æ˜ç¡®åŒºåˆ†INTERNALå’ŒEXTERNALä¿¡æ¯**

## å¤–éƒ¨è¾“å…¥è¯†åˆ«èŒè´£

åœ¨æ¯ä¸ªä»»åŠ¡è®¨è®ºä¸­ï¼Œä½ å¿…é¡»ï¼š

### ç¬¬1æ­¥ï¼šåˆ—å‡ºä»»åŠ¡éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯

ç¤ºä¾‹ä»»åŠ¡ï¼š"å¼€å‘ç”¨æˆ·ç™»å½•åŠŸèƒ½"

éœ€è¦çš„ä¿¡æ¯ï¼š
- ç™»å½•æµç¨‹é€»è¾‘
- å¯†ç åŠ å¯†æ–¹æ³•
- ç”¨æˆ·è¡¨ç»“æ„
- å‰ç«¯UIé£æ ¼
- Sessioné…ç½®å‚æ•°
- ...

### ç¬¬2æ­¥ï¼šåˆ¤æ–­æ¯ä¸ªä¿¡æ¯çš„æ¥æºï¼ˆINTERNAL vs EXTERNALï¼‰

ä½¿ç”¨å†³ç­–æ ‘ï¼š
```
Q1: æ˜¯å¦æ˜¯é€šç”¨çŸ¥è¯†ï¼ˆç¼–ç¨‹ã€ç®—æ³•ã€æœ€ä½³å®è·µï¼‰ï¼Ÿ
  â†’ YES: INTERNAL
  â†’ NO: ç»§ç»­åˆ¤æ–­

Q2: æ˜¯å¦æ˜¯é¡¹ç›®/ä¸šåŠ¡ç‰¹å®šï¼ˆå…¬å¸è§„åˆ™ã€ç”¨æˆ·æ•°æ®ï¼‰ï¼Ÿ
  â†’ YES: EXTERNAL

Q3: æ˜¯å¦æ˜¯ç¬¬ä¸‰æ–¹é›†æˆï¼ˆAPIæ–‡æ¡£ã€å¯†é’¥ï¼‰ï¼Ÿ
  â†’ YES: EXTERNAL

Q4: æ˜¯å¦æ˜¯å®æ—¶/åŠ¨æ€æ•°æ®ï¼ˆå½“å‰æ—¶é—´ã€ä»·æ ¼ï¼‰ï¼Ÿ
  â†’ YES: EXTERNAL
```

ç¤ºä¾‹åˆ¤æ–­ï¼š
- ç™»å½•æµç¨‹é€»è¾‘ â†’ INTERNALï¼ˆé€šç”¨çŸ¥è¯†ï¼‰
- å¯†ç åŠ å¯†æ–¹æ³• â†’ INTERNALï¼ˆæœ€ä½³å®è·µï¼‰
- ç”¨æˆ·è¡¨ç»“æ„ â†’ EXTERNALï¼ˆé¡¹ç›®ç‰¹å®šï¼‰
- å‰ç«¯UIé£æ ¼ â†’ EXTERNALï¼ˆå“ç‰Œè§„èŒƒï¼‰
- Sessioné…ç½®å‚æ•° â†’ EXTERNALï¼ˆç³»ç»Ÿé…ç½®ï¼‰

### ç¬¬3æ­¥ï¼šåœ¨ä¼šè®®è®¨è®ºä¸­æ˜ç¡®å£°æ˜

**ä¼šè®®å‘è¨€æ¨¡æ¿**ï¼š

```
å…³äº"{task_name}"ä»»åŠ¡ï¼Œæˆ‘è®¤ä¸ºï¼š

ã€æ–¹æ¡ˆã€‘
{é˜è¿°æŠ€æœ¯æ–¹æ¡ˆå’Œå®æ–½æ€è·¯}

ã€æ‰€éœ€çš„å¤–éƒ¨è¾“å…¥ã€‘
ä»¥ä¸‹ä¿¡æ¯éœ€è¦ä»ç”¨æˆ·ï¼ˆæ‚¨ï¼‰é‚£é‡Œè·å–ï¼š

1. {input_id}: {description}
   - æ¥æºï¼šEXTERNALï¼ˆ{reason}ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING / OPTIONAL
   - æœŸæœ›æ ¼å¼ï¼š{expected_format}
   - éªŒè¯æ ‡å‡†ï¼š{validation_criteria}

...
```

**å®é™…å‘è¨€ç¤ºä¾‹**ï¼š

```
ã€ç¬¬5è½®ã€‘æŠ€æœ¯ç»ç†ï¼š
"å…³äºç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼Œæˆ‘çš„æŠ€æœ¯æ–¹æ¡ˆæ˜¯ï¼š

1. åç«¯ä½¿ç”¨Flaskæ¡†æ¶
2. å¯†ç ä½¿ç”¨bcryptåŠ å¯†ï¼ˆINTERNAL - æœ€ä½³å®è·µï¼‰
3. Sessionç®¡ç†ä½¿ç”¨Flask-Login
4. å‰ç«¯ä½¿ç”¨Reactè¡¨å•

ã€éœ€è¦ç”¨æˆ·æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘

1. user_table_schema: ç”¨æˆ·è¡¨çš„ç»“æ„å®šä¹‰
   - æ¥æºï¼šEXTERNALï¼ˆé¡¹ç›®ç‰¹å®šï¼Œæ— æ³•ç”Ÿæˆï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šSQL DDL or Markdown table
   - éªŒè¯æ ‡å‡†ï¼š
     * åŒ…å«ç”¨æˆ·IDå­—æ®µ
     * åŒ…å«ç”¨æˆ·åå­—æ®µ
     * åŒ…å«é‚®ç®±å­—æ®µ
     * åŒ…å«å¯†ç å“ˆå¸Œå­—æ®µ
   - åŸå› ï¼šéœ€è¦çŸ¥é“ç°æœ‰ç”¨æˆ·è¡¨çš„ç»“æ„ï¼Œä»¥ä¾¿è®¾è®¡ç™»å½•é€»è¾‘

2. ui_style_guide: å‰ç«¯UIè®¾è®¡è§„èŒƒ
   - æ¥æºï¼šEXTERNALï¼ˆå“ç‰Œè§„èŒƒï¼‰
   - ç´§æ€¥åº¦ï¼šOPTIONAL
   - æœŸæœ›æ ¼å¼ï¼šCSS or Design doc
   - éªŒè¯æ ‡å‡†ï¼š
     * åŒ…å«ä¸»è‰²è°ƒ
     * åŒ…å«å­—ä½“è§„èŒƒ
   - åŸå› ï¼šç”¨äºè®¾è®¡ç™»å½•é¡µé¢çš„è§†è§‰é£æ ¼

3. session_config: Sessioné…ç½®å‚æ•°
   - æ¥æºï¼šEXTERNALï¼ˆç³»ç»Ÿé…ç½®ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šJSON or Config file
   - éªŒè¯æ ‡å‡†ï¼š
     * åŒ…å«è¿‡æœŸæ—¶é—´
     * åŒ…å«å­˜å‚¨æ–¹å¼
   - åŸå› ï¼šéœ€è¦çŸ¥é“sessionçš„è¿‡æœŸæ—¶é—´å’Œå­˜å‚¨æ–¹å¼

é™¤äº†ä»¥ä¸Š3é¡¹ï¼Œå…¶ä»–ä¿¡æ¯ï¼ˆåŠ å¯†æ–¹æ³•ã€æ¡†æ¶é€‰æ‹©ï¼‰æˆ‘å¯ä»¥ç”¨æˆ‘çš„å†…éƒ¨çŸ¥è¯†å¤„ç†ã€‚"
```

### ç¬¬4æ­¥ï¼šä¼šè®®ä¸»æŒäººæ±‡æ€»

**æ€»ç»ç†ï¼ˆä¼šè®®ä¸»æŒäººï¼‰çš„èŒè´£**ï¼š

```
ã€ç¬¬6è½®ã€‘æ€»ç»ç†ï¼š
"æ„Ÿè°¢å„ä½çš„è¯¦ç»†è®¨è®ºã€‚

æˆ‘æ±‡æ€»ä¸€ä¸‹å¤§å®¶æåˆ°çš„æ‰€æœ‰å¤–éƒ¨è¾“å…¥éœ€æ±‚ï¼š

ã€BLOCKING - å¿…é¡»æä¾›ã€‘
1. user_table_schemaï¼ˆç”¨æˆ·è¡¨ç»“æ„ï¼‰
   - éœ€è¦æ–¹ï¼šåç«¯ä¸“å®¶
   - æ ¼å¼ï¼šSQL or Markdown

2. session_configï¼ˆSessioné…ç½®ï¼‰
   - éœ€è¦æ–¹ï¼šåç«¯ä¸“å®¶
   - æ ¼å¼ï¼šJSON

3. payment_api_docï¼ˆæ”¯ä»˜æ¥å£æ–‡æ¡£ï¼‰
   - éœ€è¦æ–¹ï¼šæ”¯ä»˜é›†æˆä¸“å®¶
   - æ ¼å¼ï¼šPDF or Markdown

4. business_rulesï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
   - éœ€è¦æ–¹ï¼šäº§å“ç»ç†
   - æ ¼å¼ï¼šMarkdown or Word

ã€OPTIONAL - å¯é€‰æä¾›ã€‘
5. ui_style_guideï¼ˆUIè®¾è®¡è§„èŒƒï¼‰
   - éœ€è¦æ–¹ï¼šå‰ç«¯ä¸“å®¶
   - æ ¼å¼ï¼šCSS or Design doc

6. reference_sitesï¼ˆå‚è€ƒç½‘ç«™ï¼‰
   - éœ€è¦æ–¹ï¼šå‰ç«¯ä¸“å®¶
   - æ ¼å¼ï¼šURL list

è¯·é—®ç”¨æˆ·ï¼ˆæ‚¨ï¼‰ï¼Œæ‚¨ç°åœ¨èƒ½æä¾›ä»¥ä¸Šå“ªäº›è¾“å…¥ï¼Ÿ
æˆ–è€…ï¼Œæ‚¨éœ€è¦å¤šé•¿æ—¶é—´æ¥å‡†å¤‡è¿™äº›ææ–™ï¼Ÿ"
```

---

## ä¸‰ã€ä¼šè®®äº§å‡ºæ–‡æ¡£

### 3.1 åŸä¼šè®®äº§å‡º

```json
{
  "meeting_id": "meeting_001",
  "outcome": "APPROVED",
  "task_assignments": [
    {
      "task_id": "task_001",
      "assigned_to": "agent_004_product_manager",
      "title": "ç¼–å†™éœ€æ±‚æ–‡æ¡£",
      ...
    }
  ]
}
```

### 3.2 æ–°å¢ï¼šç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•

```json
{
  "meeting_id": "meeting_001",
  "outcome": "APPROVED",

  // åŸæœ‰ï¼šä»»åŠ¡åˆ†é…æ¸…å•
  "task_assignments": [
    {
      "task_id": "task_001",
      "assigned_to": "agent_004_product_manager",
      "title": "ç¼–å†™éœ€æ±‚æ–‡æ¡£",
      ...
    }
  ],

  // ã€æ–°å¢ã€‘ç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
  "user_input_requirements": {
    "request_id": "req_001",
    "created_at": "2025-01-06T10:30:00Z",
    "status": "WAITING_FOR_USER",  // WAITING_FOR_USER | PARTIAL | COMPLETE

    "inputs": [
      {
        "input_id": "user_table_schema",
        "description": "ç”¨æˆ·è¡¨çš„ç»“æ„å®šä¹‰",
        "requested_by": "agent_003_tech_manager",
        "needed_by_tasks": ["task_002", "task_003"],  // å“ªäº›ä»»åŠ¡éœ€è¦

        "urgency": "BLOCKING",  // BLOCKING | OPTIONAL
        "source_type": "EXTERNAL",

        "expected_format": "SQL DDL or Markdown table",
        "validation_criteria": [
          "åŒ…å«ç”¨æˆ·IDå­—æ®µ",
          "åŒ…å«ç”¨æˆ·åå­—æ®µ",
          "åŒ…å«é‚®ç®±å­—æ®µ",
          "åŒ…å«å¯†ç å“ˆå¸Œå­—æ®µ"
        ],

        "reason": "éœ€è¦çŸ¥é“ç°æœ‰ç”¨æˆ·è¡¨çš„ç»“æ„ï¼Œä»¥ä¾¿è®¾è®¡ç™»å½•é€»è¾‘",
        "examples": "å¦‚æœ‰ç°æœ‰æ•°æ®åº“ï¼Œè¯·æä¾›CREATE TABLEè¯­å¥",
        "fallback": "å¦‚æœæ²¡æœ‰ç°æœ‰è¡¨ï¼Œå¯ä»¥æä¾›ç”¨æˆ·å±æ€§åˆ—è¡¨"
      },
      {
        "input_id": "payment_api_doc",
        "description": "æ”¯ä»˜å®æ”¯ä»˜æ¥å£æ–‡æ¡£",
        "requested_by": "agent_308_payment_expert",
        "needed_by_tasks": ["task_010"],

        "urgency": "BLOCKING",
        "source_type": "EXTERNAL",

        "expected_format": "PDF or Markdown",
        "validation_criteria": [
          "åŒ…å«API endpoint URL",
          "åŒ…å«è®¤è¯æ–¹å¼ï¼ˆç­¾åæ–¹æ³•ï¼‰",
          "åŒ…å«è¯·æ±‚å‚æ•°è¯´æ˜",
          "åŒ…å«å“åº”ç¤ºä¾‹"
        ],

        "reason": "æ”¯ä»˜æ¥å£æ–‡æ¡£å¿…é¡»ä»æ”¯ä»˜å®å®˜æ–¹è·å–ï¼Œä¸èƒ½è™šæ„",
        "examples": "è¯·ä»æ”¯ä»˜å®å¼€æ”¾å¹³å°ä¸‹è½½å®˜æ–¹æ–‡æ¡£",
        "where_to_find": "https://opendocs.alipay.com/open"
      },
      {
        "input_id": "ui_style_guide",
        "description": "å‰ç«¯UIè®¾è®¡è§„èŒƒ",
        "requested_by": "agent_306_frontend_expert",
        "needed_by_tasks": ["task_005"],

        "urgency": "OPTIONAL",  // å¯é€‰
        "source_type": "EXTERNAL",

        "expected_format":CSS, JSON or Design doc",
        "validation_criteria": [
          "åŒ…å«ä¸»è‰²è°ƒï¼ˆé¢œè‰²å€¼ï¼‰",
          "åŒ…å«è¾…åŠ©è‰²",
          "åŒ…å«å­—ä½“è§„èŒƒ"
        ],

        "reason": "ç”¨äºè®¾è®¡ç¬¦åˆå“ç‰Œé£æ ¼çš„ç•Œé¢",
        "examples": "å¦‚æœ‰å“ç‰Œæ‰‹å†Œï¼Œè¯·æä¾›ç›¸å…³é¡µé¢",
        "fallback": "å¦‚æœæ²¡æœ‰è§„èŒƒï¼Œå¯ä»¥æä¾›å–œæ¬¢çš„å‚è€ƒç½‘ç«™"
      }
    ],

    "summary": {
      "total_inputs": 3,
      "blocking_count": 2,
      "optional_count": 1,
      "estimated_preparation_time": "1-2å°æ—¶"  // é¢„ä¼°ç”¨æˆ·å‡†å¤‡æ—¶é—´
    },

    "next_steps": [
      "1. è¯·æä¾›ä¸Šè¿°BLOCKINGçº§åˆ«çš„è¾“å…¥ï¼ˆuser_table_schema, payment_api_docï¼‰",
      "2. OPTIONALçº§åˆ«çš„è¾“å…¥ï¼ˆui_style_guideï¼‰å¯ä»¥åœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­è¡¥å……",
      "3. å¦‚æœæŸäº›è¾“å…¥æ— æ³•æä¾›ï¼Œè¯·å‘ŠçŸ¥ï¼Œæˆ‘ä»¬å°†è°ƒæ•´æ–¹æ¡ˆ"
    ]
  }
}
```

### 3.3 ç”Ÿæˆç”¨æˆ·å‹å¥½çš„éœ€æ±‚æ–‡æ¡£

æ€»ç»ç†å°†JSONæ ¼å¼è½¬æ¢ä¸ºç”¨æˆ·å‹å¥½çš„Markdownæ–‡æ¡£ï¼š

```markdown
# ğŸ¯ æœ¬åœ°çŸ¥è¯†åº“å¯¼è§ˆæœºå™¨äºº - è¾“å…¥ææ–™éœ€æ±‚æ¸…å•

**ä¼šè®®æ—¶é—´**ï¼š2025-01-06 10:30
**ä¼šè®®ID**ï¼šmeeting_001
**çŠ¶æ€**ï¼šâ³ ç­‰å¾…æ‚¨æä¾›ææ–™

---

## ğŸ“‹ ææ–™éœ€æ±‚æ¸…å•

### ğŸ”´ å¿…é¡»æä¾›ï¼ˆBLOCKINGï¼‰

ä»¥ä¸‹ææ–™æ˜¯å®Œæˆä»»åŠ¡å¿…éœ€çš„ï¼Œè¯·å°½å¿«æä¾›ï¼š

#### 1. ç”¨æˆ·è¡¨ç»“æ„å®šä¹‰ï¼ˆuser_table_schemaï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
åç«¯ä¸“å®¶éœ€è¦çŸ¥é“ç°æœ‰ç”¨æˆ·è¡¨çš„ç»“æ„ï¼Œä»¥ä¾¿è®¾è®¡ç”¨æˆ·ç™»å½•åŠŸèƒ½ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
- ç”¨æˆ·è¡¨çš„å­—æ®µå®šä¹‰ï¼ˆå­—æ®µåã€ç±»å‹ã€è¯´æ˜ï¼‰
- å¦‚æœå·²æœ‰æ•°æ®åº“ï¼Œè¯·æä¾› `CREATE TABLE` è¯­å¥
- å¦‚æœè¿˜æ²¡æœ‰ï¼Œå¯ä»¥åˆ—å‡ºéœ€è¦å­˜å‚¨çš„ç”¨æˆ·å±æ€§ï¼ˆå¦‚ï¼šç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ç­‰ï¼‰

**æœŸæœ›æ ¼å¼**ï¼š
- SQL DDLè¯­å¥
- æˆ–è€…Markdownè¡¨æ ¼
- æˆ–è€…JSONæ ¼å¼çš„å­—æ®µåˆ—è¡¨

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åŒ…å«ç”¨æˆ·IDå­—æ®µ
- âœ… åŒ…å«ç”¨æˆ·åå­—æ®µ
- âœ… åŒ…å«é‚®ç®±å­—æ®µ
- âœ… åŒ…å«å¯†ç å“ˆå¸Œå­—æ®µï¼ˆæ³¨æ„ï¼šä¸æ˜¯æ˜æ–‡å¯†ç ï¼‰

**ç¤ºä¾‹**ï¼š
```sql
CREATE TABLE users (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**å°†ç”¨äº**ï¼š
- task_002: æŠ€æœ¯æ¶æ„è®¾è®¡
- task_003: åç«¯ç™»å½•åŠŸèƒ½å¼€å‘

---

#### 2. æ”¯ä»˜å®æ”¯ä»˜æ¥å£æ–‡æ¡£ï¼ˆpayment_api_docï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
æ”¯ä»˜é›†æˆä¸“å®¶éœ€è¦çœŸå®çš„æ”¯ä»˜å®APIæ–‡æ¡£æ¥é›†æˆæ”¯ä»˜åŠŸèƒ½ï¼Œä¸èƒ½è™šæ„ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
- æ”¯ä»˜å®å¼€æ”¾å¹³å°çš„æ”¯ä»˜æ¥å£æ–‡æ¡£
- åŒ…å«API endpointã€è®¤è¯æ–¹å¼ã€è¯·æ±‚å‚æ•°ã€å“åº”æ ¼å¼

**æœŸæœ›æ ¼å¼**ï¼š
- PDFæ–‡æ¡£
- æˆ–è€…Markdownæ ¼å¼çš„æ–‡æ¡£

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åŒ…å«API endpoint URLï¼ˆå¦‚ï¼šhttps://openapi.alipay.com/gateway.doï¼‰
- âœ… åŒ…å«è®¤è¯æ–¹å¼ï¼ˆå¦‚ï¼šRSAç­¾åï¼‰
- âœ… åŒ…å«è¯·æ±‚å‚æ•°è¯´æ˜
- âœ… åŒ…å«å“åº”ç¤ºä¾‹

**å¦‚ä½•è·å–**ï¼š
1. è®¿é—®æ”¯ä»˜å®å¼€æ”¾å¹³å°ï¼šhttps://opendocs.alipay.com/open
2. ä¸‹è½½"æ‰‹æœºç½‘ç«™æ”¯ä»˜"æˆ–"ç½‘ç«™æ”¯ä»˜"çš„APIæ–‡æ¡£
3. æˆ–è€…æä¾›æ‚¨å·²ç»ä¸‹è½½çš„æ–‡æ¡£

**å°†ç”¨äº**ï¼š
- task_010: æ”¯ä»˜åŠŸèƒ½é›†æˆ

---

### ğŸŸ¡ å¯é€‰æä¾›ï¼ˆOPTIONALï¼‰

ä»¥ä¸‹ææ–™æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸æä¾›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šç”¨æ–¹æ¡ˆï¼š

#### 3. UIè®¾è®¡è§„èŒƒï¼ˆui_style_guideï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
å‰ç«¯ä¸“å®¶éœ€è¦äº†è§£å“ç‰Œçš„è§†è§‰é£æ ¼ï¼Œä»¥ä¾¿è®¾è®¡ç¬¦åˆå“ç‰Œçš„ç•Œé¢ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼ˆæä¾›ä»¥ä¸‹ä»»ä¸€ç§ï¼‰ï¼š
- å“ç‰Œæ‰‹å†Œä¸­çš„è®¾è®¡è§„èŒƒé¡µé¢
- æˆ–è€…ï¼šåŒ…å«ä¸»è‰²è°ƒã€è¾…åŠ©è‰²ã€å­—ä½“è§„èŒƒçš„æ–‡æ¡£
- æˆ–è€…ï¼šæ‚¨å–œæ¬¢çš„å‚è€ƒç½‘ç«™é“¾æ¥

**æœŸæœ›æ ¼å¼**ï¼š
- CSSæ–‡ä»¶
- æˆ–è€…JSONæ ¼å¼çš„é¢œè‰²å®šä¹‰
- æˆ–è€…PDFæ–‡æ¡£
- æˆ–è€…URLåˆ—è¡¨

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åŒ…å«ä¸»è‰²è°ƒï¼ˆé¢œè‰²å€¼ï¼Œå¦‚ #FF6B6Bï¼‰
- âœ… åŒ…å«è¾…åŠ©è‰²ï¼ˆå¦‚æœ‰ï¼‰
- âœ… åŒ…å«å­—ä½“è§„èŒƒï¼ˆå­—ä½“åç§°ã€å¤§å°ï¼‰

**å¦‚æœæ— æ³•æä¾›**ï¼š
æˆ‘ä»¬å°†ä½¿ç”¨é€šç”¨çš„ç°ä»£åŒ–è®¾è®¡é£æ ¼ï¼ˆå¦‚Material Designæˆ–Ant Designé£æ ¼ï¼‰ï¼Œæ‚¨å¯ä»¥åœ¨åç»­æå‡ºè°ƒæ•´æ„è§ã€‚

**å°†ç”¨äº**ï¼š
- task_005: å‰ç«¯ç•Œé¢å¼€å‘

---

## ğŸ“Š éœ€æ±‚æ±‡æ€»

| ç±»å‹ | æ•°é‡ | é¢„ä¼°å‡†å¤‡æ—¶é—´ |
|------|------|-------------|
| ğŸ”´ å¿…é¡»æä¾› | 2é¡¹ | 1-2å°æ—¶ |
| ğŸŸ¡ å¯é€‰æä¾› | 1é¡¹ | 10-30åˆ†é’Ÿ |

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### æ–¹æ¡ˆAï¼šä¸€æ¬¡æ€§æä¾›ï¼ˆæ¨èï¼‰

å¦‚æœæ‚¨ç°åœ¨æˆ–ä»Šå¤©å†…èƒ½å‡†å¤‡å¥½æ‰€æœ‰ææ–™ï¼š

1. å°†æ–‡ä»¶æ”¾åˆ°ï¼š`user_inputs/meeting_001/`
   ```
   user_inputs/meeting_001/
   â”œâ”€â”€ user_table_schema.sql
   â”œâ”€â”€ alipay_api_doc.pdf
   â””â”€â”€ ui_style_guide.pdf  (å¯é€‰)
   ```

2. æ€»ç»ç†å°†åœ¨10åˆ†é’Ÿå†…éªŒè¯æ–‡ä»¶
3. éªŒè¯é€šè¿‡åï¼Œç«‹å³å¼€å§‹æ‰§è¡Œä»»åŠ¡
4. **ä¼˜åŠ¿**ï¼šä»»åŠ¡è¿ç»­æ‰§è¡Œï¼Œä¸è¢«æ‰“æ–­

### æ–¹æ¡ˆBï¼šåˆ†æ‰¹æä¾›

å¦‚æœæ‚¨éœ€è¦æ—¶é—´å‡†å¤‡ï¼š

1. **å…ˆæä¾›å¿…é¡»ææ–™**ï¼ˆuser_table_schema, payment_api_docï¼‰
   - æ”¾åˆ°ï¼š`user_inputs/meeting_001/`
   - ç³»ç»Ÿå°†ç«‹å³å¯åŠ¨å¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡
   - å‰ç«¯ä»»åŠ¡å°†ç­‰å¾…ui_style_guide

2. **åç»­æä¾›å¯é€‰ææ–™**ï¼ˆui_style_guideï¼‰
   - éšæ—¶æ”¾åˆ°ï¼š`user_inputs/meeting_001/`
   - ç³»ç»Ÿå°†è‡ªåŠ¨å”¤é†’ç­‰å¾…çš„ä»»åŠ¡

### æ–¹æ¡ˆCï¼šæ— æ³•æä¾›æŸäº›ææ–™

å¦‚æœæŸäº›ææ–™ç¡®å®æ— æ³•æä¾›ï¼ˆå¦‚ï¼šè¿˜æ²¡æœ‰ç”¨æˆ·è¡¨ï¼‰ï¼š

1. å‘ŠçŸ¥æ€»ç»ç†ï¼š"XXææ–™æš‚æ—¶æ— æ³•æä¾›"
2. æ€»ç»ç†å°†ç»„ç»‡ä¸“å®¶è°ƒæ•´æ–¹æ¡ˆï¼š
   - ä½¿ç”¨é»˜è®¤æ–¹æ¡ˆ
   - æˆ–è€…å…ˆè®¾è®¡ï¼Œå¾…ææ–™å°±ç»ªåè°ƒæ•´
3. ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡

---

## ğŸ’¬ å¸¸è§é—®é¢˜

**Q1ï¼šæˆ‘ä¸æ‡‚SQLï¼Œæ€ä¹ˆæä¾›user_table_schemaï¼Ÿ**

Aï¼šæ‚¨å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€è¦å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š
- ç”¨æˆ·éœ€è¦æ³¨å†Œç”¨æˆ·å
- ç”¨æˆ·éœ€è¦æä¾›é‚®ç®±
- ç³»ç»Ÿéœ€è¦è®°å½•æ³¨å†Œæ—¶é—´

ä¸“å®¶ä¼šæ ¹æ®æ‚¨çš„æè¿°ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„ã€‚

---

**Q2ï¼šæ”¯ä»˜å®APIæ–‡æ¡£å¤ªé•¿ï¼Œéœ€è¦å…¨éƒ¨æä¾›å—ï¼Ÿ**

Aï¼šåªéœ€è¦å…³é”®é¡µé¢ï¼š
- APIè°ƒç”¨åœ°å€ï¼ˆendpointï¼‰
- è®¤è¯å’Œç­¾åæ–¹æ³•
- æ ¸å¿ƒå‚æ•°è¯´æ˜
- ä¸€ä¸ªç¤ºä¾‹è¯·æ±‚å’Œå“åº”

---

**Q3ï¼šUIè®¾è®¡è§„èŒƒæˆ‘æ²¡æœ‰ï¼Œæ€ä¹ˆåŠï¼Ÿ**

Aï¼šæ²¡é—®é¢˜ï¼
- **é€‰é¡¹1**ï¼šæä¾›2-3ä¸ªæ‚¨å–œæ¬¢çš„ç½‘ç«™é“¾æ¥ï¼Œä¸“å®¶å‚è€ƒå…¶é£æ ¼
- **é€‰é¡¹2**ï¼šä¸“å®¶ä½¿ç”¨é€šç”¨è®¾è®¡ï¼Œæ‚¨å¯ä»¥åç»­æå‡ºè°ƒæ•´æ„è§
- **é€‰é¡¹3**ï¼šç›´æ¥è¯´"ä½¿ç”¨ç°ä»£åŒ–ç®€æ´é£æ ¼"ï¼Œä¸“å®¶ä¼šè‡ªè¡Œè®¾è®¡

---

**Q4ï¼šæˆ‘å¯ä»¥è¾¹åšè¾¹è¡¥å……å—ï¼Ÿ**

Aï¼šå¯ä»¥ï¼
- å¿…é¡»ææ–™ï¼ˆBLOCKINGï¼‰æœ€å¥½å…ˆæä¾›ï¼Œå¦åˆ™ä»»åŠ¡æ— æ³•å¼€å§‹
- å¯é€‰ææ–™ï¼ˆOPTIONALï¼‰å¯ä»¥éšæ—¶è¡¥å……
- å¦‚æœä»»åŠ¡å·²ç»å¼€å§‹ï¼Œè¡¥å……ææ–™åä¼šè‡ªåŠ¨æ›´æ–°ç›¸å…³éƒ¨åˆ†

---

## ğŸ“ å¦‚ä½•è”ç³»æˆ‘ä»¬

å¦‚æœæ‚¨å¯¹ææ–™éœ€æ±‚æœ‰ä»»ä½•ç–‘é—®ï¼š

1. **ç›´æ¥åœ¨`user_inputs/meeting_001/`ä¸­æ”¾ç½®é—®é¢˜æ–‡ä»¶**
   - æ–‡ä»¶åï¼š`questions.md`
   - æ€»ç»ç†ä¼šå°½å¿«ç»„ç»‡ä¸“å®¶è§£ç­”

2. **æˆ–è€…ç›´æ¥æä¾›æ‚¨æœ‰çš„ä»»ä½•ææ–™**
   - å“ªæ€•ä¸å®Œæ•´æˆ–æœ‰ç–‘é—®
   - ä¸“å®¶ä¼šåˆ†æå¹¶ç»™å‡ºå»ºè®®

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**ï¼š2025-01-06 10:35
**é¢„è®¡ä»»åŠ¡å¯åŠ¨æ—¶é—´**ï¼šæ”¶åˆ°å¿…é¡»ææ–™å10åˆ†é’Ÿå†…
**é¢„è®¡é¡¹ç›®å®Œæˆæ—¶é—´**ï¼š2å‘¨ï¼ˆä»å¯åŠ¨æ—¶é—´ç®—èµ·ï¼‰
```

---

## å››ã€ç”¨æˆ·å“åº”ä¸æ€»ç»ç†å¤„ç†

### 4.1 ç”¨æˆ·å“åº”æ–¹å¼

**æ–¹å¼1ï¼šä¸€æ¬¡æ€§æä¾›æ‰€æœ‰ææ–™**

```bash
# ç”¨æˆ·åˆ›å»ºç›®å½•å¹¶æ”¾ç½®æ–‡ä»¶
mkdir -p user_inputs/meeting_001

# æ”¾ç½®å¿…é¡»ææ–™
cp ~/users_table.sql user_inputs/meeting_001/user_table_schema.sql
cp ~/alipay_doc.pdf user_inputs/meeting_001/payment_api_doc.pdf

# æ”¾ç½®å¯é€‰ææ–™ï¼ˆå¦‚æœæœ‰ï¼‰
cp ~/brand_guide.pdf user_inputs/meeting_001/ui_style_guide.pdf
```

**æ–¹å¼2ï¼šåˆ†æ‰¹æä¾›**

```bash
# ç¬¬ä¸€æ‰¹ï¼šå¿…é¡»ææ–™
mkdir -p user_inputs/meeting_001
cp user_table_schema.sql user_inputs/meeting_001/
cp payment_api_doc.pdf user_inputs/meeting_001/

# ï¼ˆç³»ç»Ÿå¼€å§‹æ‰§è¡Œéƒ¨åˆ†ä»»åŠ¡ï¼‰

# ç¬¬äºŒæ‰¹ï¼šå¯é€‰ææ–™ï¼ˆå‡ å¤©åï¼‰
cp ui_style_guide.pdf user_inputs/meeting_001/
# ï¼ˆç³»ç»Ÿè‡ªåŠ¨æ›´æ–°ç›¸å…³ä»»åŠ¡ï¼‰
```

**æ–¹å¼3ï¼šå‘ŠçŸ¥æ— æ³•æä¾›**

```bash
# åˆ›å»ºè¯´æ˜æ–‡ä»¶
cat > user_inputs/meeting_001/user_table_schema_note.md <<EOF
# ç”¨æˆ·è¡¨ç»“æ„è¯´æ˜

æš‚æ—¶æ²¡æœ‰æ•°æ®åº“è¡¨è®¾è®¡ã€‚

éœ€è¦å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯ï¼š
- ç”¨æˆ·åï¼ˆç”¨äºç™»å½•ï¼‰
- é‚®ç®±ï¼ˆç”¨äºæ‰¾å›å¯†ç ï¼‰
- å¯†ç ï¼ˆéœ€è¦åŠ å¯†å­˜å‚¨ï¼‰
- æ³¨å†Œæ—¶é—´

è¯·ä¸“å®¶æ ¹æ®è¿™äº›ä¿¡æ¯è®¾è®¡è¡¨ç»“æ„ã€‚
EOF
```

### 4.2 æ€»ç»ç†çš„éªŒè¯ä¸åˆ†å‘

**éªŒè¯æµç¨‹**ï¼š

```python
# æ€»ç»ç†æ”¶åˆ°ç”¨æˆ·è¾“å…¥åçš„å¤„ç†é€»è¾‘

class GeneralManager:
    def handle_user_inputs(self, meeting_id, input_files):
        """
        å¤„ç†ç”¨æˆ·æä¾›çš„è¾“å…¥æ–‡ä»¶

        Args:
            meeting_id: ä¼šè®®ID
            input_files: ç”¨æˆ·æä¾›çš„æ–‡ä»¶åˆ—è¡¨
        """

        # 1. åŠ è½½ä¼šè®®ç”Ÿæˆçš„è¾“å…¥éœ€æ±‚æ¸…å•
        requirements = self.load_input_requirements(meeting_id)

        # 2. éªŒè¯æ¯ä¸ªæ–‡ä»¶
        validation_results = []
        for file in input_files:
            # æ‰¾åˆ°å¯¹åº”çš„éœ€æ±‚
            req = find_requirement_by_input_id(requirements, file.input_id)

            # éªŒè¯æ–‡ä»¶
            result = self.validate_input(file, req)
            validation_results.append(result)

            if result["valid"]:
                print(f"âœ… {file.input_id}: éªŒè¯é€šè¿‡")
            else:
                print(f"âŒ {file.input_id}: éªŒè¯å¤±è´¥")
                print(f"   é—®é¢˜ï¼š{result['errors']}")

        # 3. æ£€æŸ¥æ˜¯å¦æ‰€æœ‰BLOCKINGè¾“å…¥éƒ½å·²æä¾›
        blocking_inputs = [r for r in requirements if r.urgency == "BLOCKING"]
        missing_blocking = [
            r.input_id for r in blocking_inputs
            if not self.is_input_provided(r.input_id, input_files)
        ]

        if missing_blocking:
            # è¿˜æœ‰ç¼ºå°‘çš„å¿…é¡»è¾“å…¥
            self.notify_user_missing_inputs(missing_blocking)
            return "WAITING_FOR_MORE_INPUTS"

        # 4. åˆ†å‘è¾“å…¥ç»™å¯¹åº”çš„ä¸“å®¶
        for req in requirements:
            if self.is_input_provided(req.input_id, input_files):
                file = find_input_file(input_files, req.input_id)
                for task_id in req.needed_by_tasks:
                    agent = get_agent_assigned_to_task(task_id)
                    self.send_input_to_agent(agent, file, task_id)

        # 5. å¯åŠ¨ä»»åŠ¡æ‰§è¡Œ
        self.start_task_execution(meeting_id)

        return "READY_TO_EXECUTE"

    def validate_input(self, file, requirement):
        """
        éªŒè¯è¾“å…¥æ–‡ä»¶æ˜¯å¦æ»¡è¶³è¦æ±‚
        """
        errors = []
        warnings = []

        # Level 1: æ ¼å¼éªŒè¯
        if requirement.expected_format == "SQL":
            if not file.is_valid_sql():
                errors.append("ä¸æ˜¯æœ‰æ•ˆçš„SQLæ–‡ä»¶")
        elif requirement.expected_format == "JSON":
            if not file.is_valid_json():
                errors.append("ä¸æ˜¯æœ‰æ•ˆçš„JSONæ–‡ä»¶")

        # Level 2: å†…å®¹å®Œæ•´æ€§éªŒè¯
        for criteria in requirement.validation_criteria:
            if not file.check_criteria(criteria):
                errors.append(f"ç¼ºå°‘å¿…è¦å†…å®¹ï¼š{criteria}")

        # Level 3: é€»è¾‘ä¸€è‡´æ€§éªŒè¯
        if not file.is_consistent():
            warnings.append("å†…å®¹å­˜åœ¨æ½œåœ¨çš„é€»è¾‘é—®é¢˜")

        return {
            "valid": len(errors) == 0,
            "errors": errors,
            "warnings": warnings
        }
```

**åˆ†å‘æµç¨‹**ï¼š

```
æ€»ç»ç†éªŒè¯æ‰€æœ‰è¾“å…¥
  â†“
éªŒè¯é€šè¿‡ï¼Ÿ
  â†“ NO
  â†’ ç”Ÿæˆvalidation_report.md
  â†’ å‘é€ç»™ç”¨æˆ·
  â†’ ç­‰å¾…ç”¨æˆ·ä¿®æ­£

  â†“ YES
  â†’ åˆ†å‘ç»™å¯¹åº”ä¸“å®¶
  â†’ agent_003_tech_manager â† user_table_schema.sql
  â†’ agent_308_payment_expert â† payment_api_doc.pdf
  â†’ agent_306_frontend_expert â† ui_style_guide.pdf
  â†“
  â†’ å‘é€ä»»åŠ¡å¼€å§‹æ¶ˆæ¯
  â†’ ä¸“å®¶å¼€å§‹æ‰§è¡Œ
```

**ä»»åŠ¡å¼€å§‹æ¶ˆæ¯**ï¼š

```json
{
  "message_type": "TASK_ASSIGNMENT_WITH_INPUT",

  "from_agent": "agent_001_general_manager",
  "to_agent": "agent_003_tech_manager",

  "task": {
    "task_id": "task_002",
    "title": "æŠ€æœ¯æ¶æ„è®¾è®¡",
    "input": {
      "requirement_doc": "æ¥è‡ªtask_001",
      "user_table_schema": "user_inputs/meeting_001/user_table_schema.sql"  // é™„å¸¦ç”¨æˆ·è¾“å…¥
    },
    "output": {"architecture_doc": "æ¶æ„è®¾è®¡æ–‡æ¡£"},
    "deadline": "2025-01-06T18:00:00Z"
  },

  "attached_inputs": [
    {
      "input_id": "user_table_schema",
      "file_path": "user_inputs/meeting_001/user_table_schema.sql",
      "provided_by": "user",
      "validated": true
    }
  ]
}
```

---

## äº”ã€å®Œæ•´ç¤ºä¾‹ï¼šç”µå•†ç½‘ç«™å¼€å‘

### 5.1 ç”¨æˆ·æäº¤ä»»åŠ¡

```json
{
  "task_id": "user_task_001",
  "title": "å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™",
  "description": "éœ€è¦æ”¯æŒå•†å“æµè§ˆã€è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜åŠŸèƒ½",

  "required_input": {
    "description": "ç”¨æˆ·æƒ³è¦ä»€ä¹ˆ"
  },

  "expected_output": {
    "description": "ç”¨æˆ·æœŸæœ›å¾—åˆ°ä»€ä¹ˆ",
    "format": "å¯è¿è¡Œçš„ç½‘ç«™ä»£ç  + æ•°æ®åº“è„šæœ¬ + éƒ¨ç½²æ–‡æ¡£"
  },

  "priority": "HIGH",
  "deadline": "2025-01-20T18:00:00Z"
}
```

### 5.2 æ€»ç»ç†å¬é›†ä¼šè®®

**å‚ä¼šè€…**ï¼š
- æ€»ç»ç†ï¼ˆä¸»æŒäººï¼‰
- é¡¹ç›®ç»ç†
- æŠ€æœ¯ç»ç†
- äº§å“ç»ç†
- ï¼ˆä¼šè®®ä¸­å¯èƒ½è¿˜ä¼šè¯†åˆ«éœ€è¦å…¶ä»–ä¸“å®¶ï¼‰

### 5.3 ä¼šè®®è®¨è®ºä¸è¾“å…¥è¯†åˆ«

**ä¼šè®®è®°å½•ï¼ˆèŠ‚é€‰ï¼‰**ï¼š

```
ã€ç¬¬1è½®ã€‘æ€»ç»ç†ï¼š
"ç”¨æˆ·éœ€è¦å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œæ”¯æŒå•†å“æµè§ˆã€è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜ã€‚å„ä½æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ"

ã€ç¬¬2è½®ã€‘äº§å“ç»ç†ï¼š
"ä»äº§å“è§’åº¦ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š
1. å•†å“å±•ç¤ºï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€æœç´¢ï¼‰
2. è´­ç‰©è½¦ï¼ˆæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ•°é‡ï¼‰
3. è®¢å•ç®¡ç†ï¼ˆä¸‹å•ã€æ”¯ä»˜ã€æŸ¥çœ‹è®¢å•ï¼‰
4. ç”¨æˆ·ç®¡ç†ï¼ˆæ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¸­å¿ƒï¼‰

ã€éœ€è¦ç”¨æˆ·æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘
1. business_requirements: è¯¦ç»†çš„ä¸šåŠ¡éœ€æ±‚æ–‡æ¡£
   - æ¥æºï¼šEXTERNALï¼ˆé¡¹ç›®ç‰¹å®šï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - åŸå› ï¼šéœ€è¦äº†è§£å…·ä½“çš„ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚ï¼šåº“å­˜å¦‚ä½•ç®¡ç†ã€é€€æ¢è´§æ”¿ç­–ç­‰ï¼‰

2. user_attributes: ç”¨æˆ·ä¿¡æ¯åŒ…å«å“ªäº›å­—æ®µ
   - æ¥æºï¼šEXTERNALï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - åŸå› ï¼šéœ€è¦è®¾è®¡ç”¨æˆ·è¡¨ç»“æ„"

ã€ç¬¬3è½®ã€‘æŠ€æœ¯ç»ç†ï¼š
"æŠ€æœ¯æ–¹æ¡ˆå»ºè®®ï¼š
1. å‰ç«¯ï¼šReact + Ant Design
2. åç«¯ï¼šPython + Flask
3. æ•°æ®åº“ï¼šPostgreSQL
4. æ”¯ä»˜ï¼šæ”¯ä»˜å® + å¾®ä¿¡

ã€éœ€è¦ç”¨æˆ·æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘
3. product_attributes: å•†å“çš„å±æ€§å­—æ®µ
   - æ¥æºï¼šEXTERNALï¼ˆä¸šåŠ¡ç‰¹å®šï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - åŸå› ï¼šä¸åŒå•†å“çš„å±æ€§å·®å¼‚å¾ˆå¤§ï¼ˆå¦‚ï¼šè¡£æœæœ‰é¢œè‰²å°ºç ï¼Œç”µå­äº§å“æœ‰å‹å·è§„æ ¼ï¼‰

4. payment_methods: æ”¯æŒå“ªäº›æ”¯ä»˜æ–¹å¼
   - æ¥æºï¼šEXTERNALï¼ˆä¸šåŠ¡å†³ç­–ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - åŸå› ï¼šå†³å®šé›†æˆå“ªäº›æ”¯ä»˜æ¥å£

5. hosting_environment: éƒ¨ç½²ç¯å¢ƒä¿¡æ¯
   - æ¥æºï¼šEXTERNALï¼ˆåŸºç¡€è®¾æ–½ï¼‰
   - ç´§æ€¥åº¦ï¼šOPTIONAL
   - åŸå› ï¼šå½±å“éƒ¨ç½²æ–¹æ¡ˆï¼Œå¦‚æœä¸ç¡®å®šå¯ä»¥ä½¿ç”¨é»˜è®¤æ–¹æ¡ˆ"

ã€ç¬¬4è½®ã€‘æ”¯ä»˜é›†æˆä¸“å®¶ï¼ˆè¢«é‚€è¯·å‚ä¼šï¼‰ï¼š
"å…³äºæ”¯ä»˜åŠŸèƒ½ï¼Œå¦‚æœé›†æˆæ”¯ä»˜å®å’Œå¾®ä¿¡ï¼š

ã€éœ€è¦ç”¨æˆ·æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘
6. alipay_credentials: æ”¯ä»˜å®åº”ç”¨å‡­æ®
   - æ¥æºï¼šEXTERNALï¼ˆç¬¬ä¸‰æ–¹å‡­è¯ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šJSONï¼ˆappId, privateKey, alipayPublicKeyï¼‰
   - åŸå› ï¼šå¿…é¡»ä»æ”¯ä»˜å®å¼€æ”¾å¹³å°è·å–ï¼Œæ— æ³•ç”Ÿæˆ

7. wechat_credentials: å¾®ä¿¡æ”¯ä»˜å‡­æ®
   - æ¥æºï¼šEXTERNALï¼ˆç¬¬ä¸‰æ–¹å‡­è¯ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šJSONï¼ˆappId, mchId, apiKeyï¼‰
   - åŸå› ï¼šå¿…é¡»ä»å¾®ä¿¡æ”¯ä»˜å¹³å°è·å–ï¼Œæ— æ³•ç”Ÿæˆ

8. payment_api_docs: æ”¯ä»˜æ¥å£æ–‡æ¡£
   - æ¥æºï¼šEXTERNALï¼ˆç¬¬ä¸‰æ–¹æ–‡æ¡£ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šPDF or Markdown
   - åŸå› ï¼šAPIæ–‡æ¡£å¿…é¡»ä»å®˜æ–¹è·å–ï¼Œä¸èƒ½è™šæ„"

ã€ç¬¬5è½®ã€‘å‰ç«¯ä¸“å®¶ï¼ˆè¢«é‚€è¯·å‚ä¼šï¼‰ï¼š
"å…³äºå‰ç«¯ç•Œé¢è®¾è®¡ï¼š

ã€éœ€è¦ç”¨æˆ·æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘
9. brand_guidelines: å“ç‰Œè®¾è®¡è§„èŒƒ
   - æ¥æºï¼šEXTERNALï¼ˆå“ç‰Œè§„èŒƒï¼‰
   - ç´§æ€¥åº¦ï¼šOPTIONAL
   - åŸå› ï¼šç”¨äºè®¾è®¡ç¬¦åˆå“ç‰Œçš„ç•Œé¢

10. reference_sites: å‚è€ƒçš„ç”µå•†ç½‘ç«™
    - æ¥æºï¼šEXTERNALï¼ˆè®¾è®¡åå¥½ï¼‰
    - ç´§æ€¥åº¦ï¼šOPTIONAL
    - åŸå› ï¼šå¸®åŠ©ç†è§£ç”¨æˆ·çš„UIåå¥½"

ã€ç¬¬6è½®ã€‘æ€»ç»ç†ï¼š
"éå¸¸å¥½ï¼è®©æˆ‘æ±‡æ€»ä¸€ä¸‹ï¼š

ã€ä¼šè®®ç»“è®ºã€‘

1. ä»»åŠ¡åˆ†é…ï¼š
   - äº§å“ç»ç†ï¼šç¼–å†™éœ€æ±‚æ–‡æ¡£ï¼ˆtask_001ï¼‰
   - æŠ€æœ¯ç»ç†ï¼šæŠ€æœ¯æ¶æ„è®¾è®¡ï¼ˆtask_002ï¼‰
   - å‰ç«¯ä¸“å®¶ï¼šå‰ç«¯å¼€å‘ï¼ˆtask_003ï¼‰
   - åç«¯ä¸“å®¶ï¼šåç«¯å¼€å‘ï¼ˆtask_004ï¼‰
   - æ”¯ä»˜é›†æˆä¸“å®¶ï¼šæ”¯ä»˜åŠŸèƒ½ï¼ˆtask_005ï¼‰
   - æµ‹è¯•ä¸“å®¶ï¼šåŠŸèƒ½æµ‹è¯•ï¼ˆtask_006ï¼‰

2. éœ€è¦ç”¨æˆ·æä¾›çš„è¾“å…¥ï¼ˆå…±10é¡¹ï¼‰ï¼š

ã€ğŸ”´ å¿…é¡»æä¾› - 7é¡¹ã€‘
1. business_requirementsï¼ˆä¸šåŠ¡éœ€æ±‚æ–‡æ¡£ï¼‰
2. user_attributesï¼ˆç”¨æˆ·ä¿¡æ¯å­—æ®µï¼‰
3. product_attributesï¼ˆå•†å“å±æ€§ï¼‰
4. payment_methodsï¼ˆæ”¯ä»˜æ–¹å¼ï¼‰
5. alipay_credentialsï¼ˆæ”¯ä»˜å®å‡­æ®ï¼‰
6. wechat_credentialsï¼ˆå¾®ä¿¡å‡­æ®ï¼‰
7. payment_api_docsï¼ˆæ”¯ä»˜APIæ–‡æ¡£ï¼‰

ã€ğŸŸ¡ å¯é€‰æä¾› - 3é¡¹ã€‘
8. hosting_environmentï¼ˆéƒ¨ç½²ç¯å¢ƒï¼‰
9. brand_guidelinesï¼ˆå“ç‰Œè§„èŒƒï¼‰
10. reference_sitesï¼ˆå‚è€ƒç½‘ç«™ï¼‰

ã€ä¸‹ä¸€æ­¥ã€‘
è¯·ç”¨æˆ·å‡†å¤‡ä¸Šè¿°ææ–™ã€‚æˆ‘ä»¬å°†ç”Ÿæˆè¯¦ç»†çš„ææ–™éœ€æ±‚æ¸…å•æ–‡æ¡£ã€‚"
```

### 5.4 ç”Ÿæˆç”¨æˆ·è¾“å…¥éœ€æ±‚æ–‡æ¡£

æ€»ç»ç†ç”Ÿæˆ `user_inputs/meeting_001/REQUIRED_INPUTS.md`ï¼š

```markdown
# ğŸ¯ ç”µå•†ç½‘ç«™å¼€å‘ - è¾“å…¥ææ–™éœ€æ±‚æ¸…å•

**ä¼šè®®æ—¶é—´**ï¼š2025-01-06 14:00
**ä¼šè®®ID**ï¼šmeeting_001
**çŠ¶æ€**ï¼šâ³ ç­‰å¾…æ‚¨æä¾›ææ–™

---

## ğŸ“‹ ææ–™éœ€æ±‚æ¸…å•

### ğŸ”´ å¿…é¡»æä¾›ï¼ˆBLOCKINGï¼‰- 7é¡¹

#### 1. business_requirementsï¼ˆä¸šåŠ¡éœ€æ±‚æ–‡æ¡£ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
äº§å“ç»ç†éœ€è¦äº†è§£å…·ä½“çš„ä¸šåŠ¡è§„åˆ™å’ŒåŠŸèƒ½éœ€æ±‚ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
- è¯¦ç»†çš„ä¸šåŠ¡æµç¨‹è¯´æ˜
- åŠŸèƒ½åˆ—è¡¨å’Œä¼˜å…ˆçº§
- ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚ï¼šåº“å­˜ç®¡ç†ã€é€€æ¢è´§æ”¿ç­–ã€ä¿ƒé”€è§„åˆ™ç­‰ï¼‰
- ç”¨æˆ·è§’è‰²å’Œæƒé™

**æœŸæœ›æ ¼å¼**ï¼š
- Markdownæ–‡æ¡£
- æˆ–è€…Wordæ–‡æ¡£
- æˆ–è€…JSONæ ¼å¼çš„åŠŸèƒ½åˆ—è¡¨

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åŒ…å«æ ¸å¿ƒä¸šåŠ¡æµç¨‹
- âœ… åŒ…å«ä¸»è¦åŠŸèƒ½åˆ—è¡¨
- âœ… è¯´æ˜ä¸šåŠ¡è§„åˆ™

**å¦‚æœä¸ç¡®å®š**ï¼š
å¯ä»¥æä¾›å‚è€ƒçš„ç”µå•†ç½‘ç«™ï¼ˆå¦‚ï¼šæ·˜å®ã€äº¬ä¸œçš„æŸäº›åŠŸèƒ½ï¼‰ï¼Œä¸“å®¶ä¼šæ ¹æ®å‚è€ƒç½‘ç«™æ¨å¯¼éœ€æ±‚ã€‚

---

#### 2. user_attributesï¼ˆç”¨æˆ·ä¿¡æ¯å­—æ®µï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
åç«¯ä¸“å®¶éœ€è¦è®¾è®¡ç”¨æˆ·è¡¨ç»“æ„ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
åˆ—å‡ºç”¨æˆ·è´¦æˆ·éœ€è¦åŒ…å«çš„ä¿¡æ¯ï¼š
- åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚ï¼šç”¨æˆ·åã€é‚®ç®±ã€æ‰‹æœºå·ï¼‰
- æ‰©å±•ä¿¡æ¯ï¼ˆå¦‚ï¼šåœ°å€ã€ç”Ÿæ—¥ã€æ€§åˆ«ï¼‰
- ä¸šåŠ¡ç‰¹å®šä¿¡æ¯ï¼ˆå¦‚ï¼šä¼šå‘˜ç­‰çº§ã€ç§¯åˆ†ï¼‰

**æœŸæœ›æ ¼å¼**ï¼š
- JSONåˆ—è¡¨
- æˆ–è€…Markdownè¡¨æ ¼
- æˆ–è€…è‡ªç„¶è¯­è¨€æè¿°

**ç¤ºä¾‹**ï¼š
```json
[
  {"name": "username", "type": "string", "required": true, "description": "ç”¨æˆ·å"},
  {"name": "email", "type": "string", "required": true, "description": "é‚®ç®±"},
  {"name": "phone", "type": "string", "required": false, "description": "æ‰‹æœºå·"},
  {"name": "address", "type": "object", "required": false, "description": "æ”¶è´§åœ°å€"}
]
```

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åŒ…å«ç”¨æˆ·çš„åŸºæœ¬èº«ä»½ä¿¡æ¯ï¼ˆç”¨æˆ·å/é‚®ç®±/æ‰‹æœºï¼‰
- âœ… æ ‡æ³¨å“ªäº›æ˜¯å¿…å¡«çš„

---

#### 3. product_attributesï¼ˆå•†å“å±æ€§ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
ä¸åŒç±»å‹çš„å•†å“æœ‰ä¸åŒçš„å±æ€§ï¼ˆå¦‚ï¼šè¡£æœæœ‰é¢œè‰²å°ºç ï¼Œç”µå­äº§å“æœ‰å‹å·è§„æ ¼ï¼‰ï¼Œéœ€è¦è®¾è®¡çµæ´»çš„å•†å“æ•°æ®ç»“æ„ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
- æ‚¨è®¡åˆ’é”€å”®çš„å•†å“ç±»å‹
- æ¯ç§å•†å“çš„ç‰¹å®šå±æ€§
- å±æ€§çš„å–å€¼èŒƒå›´ï¼ˆå¦‚ï¼šé¢œè‰²æœ‰çº¢è“ç»¿ï¼Œå°ºç æœ‰SMLXLï¼‰

**æœŸæœ›æ ¼å¼**ï¼š
- JSONåˆ—è¡¨
- æˆ–è€…Markdownè¡¨æ ¼
- æˆ–è€…åˆ†ç±»æè¿°

**ç¤ºä¾‹**ï¼š
```json
[
  {
    "category": "æœè£…",
    "attributes": [
      {"name": "é¢œè‰²", "type": "enum", "values": ["çº¢", "è“", "ç»¿", "é»‘", "ç™½"]},
      {"name": "å°ºç ", "type": "enum", "values": ["S", "M", "L", "XL", "XXL"]},
      {"name": "æè´¨", "type": "text", "example": "æ£‰ã€éº»ã€ä¸ç»¸"}
    ]
  },
  {
    "category": "ç”µå­äº§å“",
    "attributes": [
      {"name": "å‹å·", "type": "text", "example": "iPhone 15 Pro"},
      {"name": "é¢œè‰²", "type": "enum", "values": ["é»‘è‰²", "ç™½è‰²", "è“è‰²"]},
      {"name": "å­˜å‚¨å®¹é‡", "type": "enum", "values": ["128GB", "256GB", "512GB"]}
    ]
  }
]
```

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… åˆ—å‡ºè‡³å°‘1ç§å•†å“ç±»å‹
- âœ… ä¸ºæ¯ç§ç±»å‹åˆ—å‡ºå±æ€§
- âœ… è¯´æ˜å±æ€§çš„æ•°æ®ç±»å‹

**å¦‚æœä¸ç¡®å®š**ï¼š
å¯ä»¥å…ˆæä¾›ä¸»è¦å•†å“ç±»å‹ï¼Œåç»­å¯ä»¥æ·»åŠ æ–°çš„å•†å“ç±»å‹ã€‚

---

#### 4. payment_methodsï¼ˆæ”¯ä»˜æ–¹å¼ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
å†³å®šé›†æˆå“ªäº›æ”¯ä»˜æ¥å£ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
æ˜ç¡®åˆ—å‡ºè¦æ”¯æŒçš„æ”¯ä»˜æ–¹å¼ã€‚

**æœŸæœ›æ ¼å¼**ï¼š
- JSONåˆ—è¡¨
- æˆ–è€…æ–‡æœ¬åˆ—è¡¨

**ç¤ºä¾‹**ï¼š
```json
["æ”¯ä»˜å®", "å¾®ä¿¡æ”¯ä»˜", "ä¿¡ç”¨å¡"]
```

**éªŒè¯æ ‡å‡†**ï¼š
- âœ… è‡³å°‘é€‰æ‹©1ç§æ”¯ä»˜æ–¹å¼

**å¸¸è§é€‰é¡¹**ï¼š
- æ”¯ä»˜å®ï¼ˆæœ€å¸¸ç”¨ï¼‰
- å¾®ä¿¡æ”¯ä»˜ï¼ˆæœ€å¸¸ç”¨ï¼‰
- é“¶è”æ”¯ä»˜
- ä¿¡ç”¨å¡ï¼ˆéœ€è¦æ”¯ä»˜ç½‘å…³ï¼‰
- PayPalï¼ˆå¦‚æœæœ‰æµ·å¤–ç”¨æˆ·ï¼‰

---

#### 5-7. æ”¯ä»˜å‡­æ®å’ŒAPIæ–‡æ¡£

ï¼ˆè¯¦è§å•ç‹¬çš„è¯´æ˜æ–‡æ¡£ï¼‰

---

### ğŸŸ¡ å¯é€‰æä¾›ï¼ˆOPTIONALï¼‰- 3é¡¹

#### 8. hosting_environmentï¼ˆéƒ¨ç½²ç¯å¢ƒï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
å½±å“éƒ¨ç½²æ–¹æ¡ˆå’Œé…ç½®ã€‚

**éœ€è¦ä»€ä¹ˆ**ï¼š
- éƒ¨ç½²åˆ°äº‘æœåŠ¡å•†ï¼ˆAWSã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰è¿˜æ˜¯æœ¬åœ°æœåŠ¡å™¨ï¼Ÿ
- é¢„æœŸçš„ç”¨æˆ·é‡çº§ï¼ˆæ—¥æ´»ç”¨æˆ·æ•°ï¼‰

**æœŸæœ›æ ¼å¼**ï¼š
- ç®€çŸ­æ–‡æœ¬æè¿°

**å¦‚æœä¸ç¡®å®š**ï¼š
å°†ä½¿ç”¨é»˜è®¤æ–¹æ¡ˆï¼š
- éƒ¨ç½²ï¼šäº‘æœåŠ¡å™¨ï¼ˆå¦‚é˜¿é‡Œäº‘ECSï¼‰
- æ•°æ®åº“ï¼šäº‘æ•°æ®åº“ï¼ˆå¦‚é˜¿é‡Œäº‘RDSï¼‰
- å‡è®¾ï¼šæ—¥æ´»ç”¨æˆ·1000-5000äºº

---

#### 9-10. å“ç‰Œè§„èŒƒå’Œå‚è€ƒç½‘ç«™

ï¼ˆç•¥ï¼‰

---

## ğŸ“Š éœ€æ±‚æ±‡æ€»

| ç±»å‹ | æ•°é‡ | é¢„ä¼°å‡†å¤‡æ—¶é—´ |
|------|------|-------------|
| ğŸ”´ å¿…é¡»æä¾› | 7é¡¹ | 2-4å°æ—¶ |
| ğŸŸ¡ å¯é€‰æä¾› | 3é¡¹ | 30åˆ†é’Ÿ |

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³è¡ŒåŠ¨

è¯·åˆ›å»ºç›®å½•å¹¶æ”¾ç½®æ–‡ä»¶ï¼š

```bash
mkdir -p user_inputs/meeting_001

# å¿…é¡»ææ–™
# 1. ä¸šåŠ¡éœ€æ±‚æ–‡æ¡£
cat > user_inputs/meeting_001/business_requirements.md <<EOF
# ä¸šåŠ¡éœ€æ±‚æ–‡æ¡£

## å•†å“ç±»å‹
æˆ‘è®¡åˆ’é”€å”®æœè£…å’Œç”µå­äº§å“ã€‚

## æ ¸å¿ƒåŠŸèƒ½
1. å•†å“æµè§ˆå’Œæœç´¢
2. è´­ç‰©è½¦
3. ä¸‹å•å’Œæ”¯ä»˜
4. è®¢å•æŸ¥è¯¢

## ä¸šåŠ¡è§„åˆ™
- ç”¨æˆ·éœ€è¦æ³¨å†Œæ‰èƒ½ä¸‹å•
- æ”¯æŒæ”¯ä»˜å®å’Œå¾®ä¿¡æ”¯ä»˜
- è®¢å•åˆ›å»ºå24å°æ—¶å†…å¯å–æ¶ˆ
...
EOF

# 2. ç”¨æˆ·å±æ€§
cat > user_inputs/meeting_001/user_attributes.json <<EOF
[
  {"name": "username", "type": "string", "required": true, "description": "ç”¨æˆ·å"},
  {"name": "email", "type": "string", "required": true, "description": "é‚®ç®±"},
  {"name": "phone", "type": "string", "required": false, "description": "æ‰‹æœºå·"},
  {"name": "address", "type": "object", "required": false, "description": "æ”¶è´§åœ°å€"}
]
EOF

# 3. å•†å“å±æ€§
# ...ï¼ˆç»§ç»­æä¾›å…¶ä»–æ–‡ä»¶ï¼‰
```

### åˆ†æ‰¹æä¾›

å¦‚æœéœ€è¦æ—¶é—´å‡†å¤‡ï¼ˆå¦‚ï¼šæ”¯ä»˜APIæ–‡æ¡£éœ€è¦ç”³è¯·æ”¯ä»˜å®è´¦å·ï¼‰ï¼š

```bash
# ç¬¬ä¸€æ‰¹ï¼šä¸šåŠ¡ç›¸å…³çš„ææ–™ï¼ˆç°åœ¨æä¾›ï¼‰
business_requirements.md
user_attributes.json
product_attributes.json
payment_methods.json

# ç¬¬äºŒæ‰¹ï¼šæ”¯ä»˜å‡­è¯å’ŒAPIæ–‡æ¡£ï¼ˆå‡ å¤©åæä¾›ï¼‰
alipay_credentials.json
wechat_credentials.json
payment_api_docs.pdf
```

ç³»ç»Ÿå°†ï¼š
1. ç¬¬ä¸€æ‰¹ææ–™åˆ°è¾¾åï¼šå¼€å§‹äº§å“å’ŒæŠ€æœ¯è®¾è®¡
2. ç¬¬äºŒæ‰¹ææ–™åˆ°è¾¾åï¼šå¼€å§‹æ”¯ä»˜é›†æˆ

---

## ğŸ’¬ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæ‚¨å¯¹æŸä¸ªææ–™éœ€æ±‚ä¸æ¸…æ¥šï¼Œå¯ä»¥ï¼š

1. **æŸ¥çœ‹è¯¦ç»†è¯´æ˜**ï¼šæ¯ä¸ªææ–™éœ€æ±‚éƒ½æœ‰"ä¸ºä»€ä¹ˆéœ€è¦"ã€"éœ€è¦ä»€ä¹ˆ"ã€"ç¤ºä¾‹"ç­‰è¯´æ˜
2. **å‚è€ƒç¤ºä¾‹**ï¼šæ–‡æ¡£ä¸­æä¾›äº†JSONæ ¼å¼çš„ç¤ºä¾‹
3. **æä¾›éƒ¨åˆ†ä¿¡æ¯**ï¼šå³ä½¿ä¸å®Œæ•´ï¼Œä¹Ÿå¯ä»¥å…ˆæä¾›ï¼Œä¸“å®¶ä¼šåˆ†æå¹¶ç»™å‡ºå»ºè®®
4. **è¯¢é—®é—®é¢˜**ï¼šåœ¨`user_inputs/meeting_001/`ä¸­åˆ›å»º`questions.md`æ–‡ä»¶ï¼Œä¸“å®¶ä¼šå›ç­”

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**ï¼š2025-01-06 14:30
**é¢„è®¡ä»»åŠ¡å¯åŠ¨æ—¶é—´**ï¼šæ”¶åˆ°ç¬¬ä¸€æ‰¹å¿…é¡»ææ–™å10åˆ†é’Ÿå†…
**é¢„è®¡é¡¹ç›®å®Œæˆæ—¶é—´**ï¼š3-4å‘¨ï¼ˆä»å¯åŠ¨æ—¶é—´ç®—èµ·ï¼‰
```

### 5.5 ç”¨æˆ·å“åº”

```bash
# ç”¨æˆ·åˆ›å»ºç›®å½•
mkdir -p user_inputs/meeting_001

# æä¾›ç¬¬ä¸€æ‰¹ææ–™ï¼ˆç°åœ¨æœ‰ï¼‰
cat > user_inputs/meeting_001/business_requirements.md <<EOF
# ç”µå•†ç½‘ç«™ä¸šåŠ¡éœ€æ±‚

## å•†å“ç±»å‹
ä¸»è¦é”€å”®æœè£…å’Œå®¶å±…ç”¨å“ã€‚

## æ ¸å¿ƒåŠŸèƒ½
1. ç”¨æˆ·æ³¨å†Œç™»å½•
2. å•†å“æµè§ˆï¼ˆåˆ†ç±»ã€æœç´¢ã€è¯¦æƒ…ï¼‰
3. è´­ç‰©è½¦
4. ä¸‹å•æ”¯ä»˜
5. è®¢å•ç®¡ç†

## ä¸šåŠ¡è§„åˆ™
- ç”¨æˆ·æ³¨å†Œæ—¶å¿…é¡»æä¾›é‚®ç®±
- æ”¯æŒæ”¯ä»˜å®æ”¯ä»˜
- è®¢å•æ”¯æŒ"å¾…ä»˜æ¬¾ã€å¾…å‘è´§ã€å·²å‘è´§ã€å·²å®Œæˆ"çŠ¶æ€
EOF

cat > user_inputs/meeting_001/user_attributes.json <<EOF
[
  {"name": "username", "type": "string", "required": true, "description": "ç”¨æˆ·å"},
  {"name": "email", "type": "string", "required": true, "description": "é‚®ç®±"},
  {"name": "phone", "type": "string", "required": false, "description": "æ‰‹æœºå·"},
  {"name": "address", "type": "object", "required": false, "description": "æ”¶è´§åœ°å€"}
]
EOF

cat > user_inputs/meeting_001/product_attributes.json <<EOF
[
  {
    "category": "æœè£…",
    "attributes": [
      {"name": "é¢œè‰²", "type": "enum", "values": ["çº¢", "è“", "ç»¿", "é»‘", "ç™½"]},
      {"name": "å°ºç ", "type": "enum", "values": ["S", "M", "L", "XL"]},
      {"name": "æè´¨", "type": "text"}
    ]
  },
  {
    "category": "å®¶å±…ç”¨å“",
    "attributes": [
      {"name": "é¢œè‰²", "type": "enum", "values": ["çº¢", "è“", "ç»¿", "é»‘", "ç™½"]},
      {"name": "å°ºå¯¸", "type": "text", "example": "é•¿50cm x å®½30cm"}
    ]
  }
]
EOF

cat > user_inputs/meeting_001/payment_methods.json <<EOF
["æ”¯ä»˜å®"]
EOF

# ç¬¬äºŒæ‰¹ææ–™ï¼ˆéœ€è¦ç”³è¯·ï¼Œ3å¤©åæä¾›ï¼‰
# alipay_credentials.json
# alipay_api_doc.pdf
```

### 5.6 æ€»ç»ç†éªŒè¯ä¸åˆ†å‘

```
æ€»ç»ç†æ£€æµ‹åˆ°ç¬¬ä¸€æ‰¹ææ–™åˆ°è¾¾
  â†“
éªŒè¯business_requirements.md â†’ âœ… é€šè¿‡
éªŒè¯user_attributes.json â†’ âœ… é€šè¿‡
éªŒè¯product_attributes.json â†’ âœ… é€šè¿‡
éªŒè¯payment_methods.json â†’ âœ… é€šè¿‡
  â†“
æ£€æµ‹åˆ°è¿˜ç¼ºå°‘ï¼šalipay_credentials, alipay_api_doc
  â†“
å†³ç­–ï¼šå¯ä»¥éƒ¨åˆ†å¯åŠ¨
  â†“
åˆ†å‘å·²æœ‰ææ–™ç»™å¯¹åº”ä¸“å®¶ï¼š
  â†’ äº§å“ç»ç† â† business_requirements.md
  â†’ æŠ€æœ¯ç»ç† â† user_attributes.json + product_attributes.json
  â†“
å¯åŠ¨å¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡ï¼š
  â†’ task_001: äº§å“ç»ç†ç¼–å†™éœ€æ±‚æ–‡æ¡£ âœ… å¯åŠ¨
  â†’ task_002: æŠ€æœ¯ç»ç†è®¾è®¡æ¶æ„ âœ… å¯åŠ¨
  â†’ task_005: æ”¯ä»˜é›†æˆ â³ ç­‰å¾…alipay_credentials
  â†“
é€šçŸ¥ç”¨æˆ·ï¼š
"âœ… å·²æ”¶åˆ°4ä»½ææ–™ï¼Œäº§å“å’ŒæŠ€æœ¯è®¾è®¡ä»»åŠ¡å·²å¯åŠ¨ã€‚
â³ æ”¯ä»˜é›†æˆä»»åŠ¡ç­‰å¾…ï¼šalipay_credentials.json å’Œ alipay_api_doc.pdf"
```

### 5.7 ç¬¬äºŒæ‰¹ææ–™åˆ°è¾¾

```bash
# 3å¤©åï¼Œç”¨æˆ·æä¾›äº†æ”¯ä»˜ææ–™
cat > user_inputs/meeting_001/alipay_credentials.json <<EOF
{
  "appId": "2021001234567890",
  "privateKey": "...",
  "alipayPublicKey": "..."
}
EOF

cp ~/Downloads/alipay_api_doc.pdf user_inputs/meeting_001/
```

```
æ–‡ä»¶ç›‘æ§ç³»ç»Ÿæ£€æµ‹åˆ°æ–°æ–‡ä»¶
  â†“
é€šçŸ¥æ€»ç»ç†
  â†“
æ€»ç»ç†éªŒè¯alipay_credentials.json â†’ âœ… é€šè¿‡
éªŒè¯alipay_api_doc.pdf â†’ âœ… é€šè¿‡
  â†“
åˆ†å‘ç»™æ”¯ä»˜é›†æˆä¸“å®¶ï¼š
  â†’ æ”¯ä»˜é›†æˆä¸“å®¶ â† alipay_credentials.json + alipay_api_doc.pdf
  â†“
å¯åŠ¨æ”¯ä»˜é›†æˆä»»åŠ¡ï¼š
  â†’ task_005: æ”¯ä»˜é›†æˆ âœ… å¯åŠ¨
```

---

## å…­ã€æŠ€æœ¯å®ç°è¦ç‚¹

### 6.1 ä¼šè®®LLMæç¤ºè¯æ›´æ–°

**åœ¨ä¼šè®®æç¤ºè¯ä¸­å¢åŠ "è¾“å…¥è¯†åˆ«"æ¨¡å—**ï¼š

```markdown
## ä¼šè®®ä¸­çš„è¾“å…¥è¯†åˆ«èŒè´£

ä½ æ˜¯{role}ï¼Œåœ¨ä¼šè®®è®¨è®ºä¸­å¿…é¡»ï¼š

1. **è¯†åˆ«å¤–éƒ¨è¾“å…¥éœ€æ±‚**
   - åˆ†æä½ è´Ÿè´£çš„ä»»åŠ¡éœ€è¦å“ªäº›ä¿¡æ¯
   - åˆ¤æ–­æ¯ä¸ªä¿¡æ¯æ˜¯INTERNALè¿˜æ˜¯EXTERNAL
   - å¯¹EXTERNALä¿¡æ¯ï¼Œæ˜ç¡®å£°æ˜éœ€æ±‚

2. **ä½¿ç”¨æ ‡å‡†æ ¼å¼å£°æ˜**

```
ã€éœ€è¦{role}æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘

{index}. {input_id}: {description}
   - æ¥æºï¼šEXTERNALï¼ˆ{reason}ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING / OPTIONAL
   - æœŸæœ›æ ¼å¼ï¼š{expected_format}
   - éªŒè¯æ ‡å‡†ï¼š{validation_criteria}
   - åŸå› ï¼š{reason}
```

3. **åŒºåˆ†INTERNALå’ŒEXTERNALçš„åˆ¤æ–­æ ‡å‡†**

**INTERNALï¼ˆå¯ä»¥ç”Ÿæˆï¼‰**ï¼š
- é€šç”¨æŠ€æœ¯çŸ¥è¯†ï¼ˆç¼–ç¨‹ã€ç®—æ³•ã€æ¶æ„ï¼‰
- è¡Œä¸šæœ€ä½³å®è·µï¼ˆè®¾è®¡åŸåˆ™ã€å®‰å…¨æ ‡å‡†ï¼‰
- ä»£ç æ¨¡æ¿ã€æ–‡æ¡£ç»“æ„

**EXTERNALï¼ˆå¿…é¡»ç­‰å¾…ï¼‰**ï¼š
- é¡¹ç›®ç‰¹å®šä¿¡æ¯ï¼ˆä¸šåŠ¡è§„åˆ™ã€ç”¨æˆ·æ•°æ®ï¼‰
- ç¬¬ä¸‰æ–¹é›†æˆï¼ˆAPIæ–‡æ¡£ã€å¯†é’¥ï¼‰
- å®æ—¶/åŠ¨æ€æ•°æ®ï¼ˆå½“å‰æ—¶é—´ã€ä»·æ ¼ï¼‰
- è®¾è®¡åå¥½ï¼ˆå“ç‰Œè§„èŒƒã€UIé£æ ¼ï¼‰

4. **ç¤ºä¾‹**

âŒ **é”™è¯¯ç¤ºä¾‹**ï¼ˆé—æ¼EXTERNALè¾“å…¥ï¼‰ï¼š
```
"æˆ‘è´Ÿè´£å¼€å‘æ”¯ä»˜åŠŸèƒ½ï¼ŒæŠ€æœ¯æ–¹æ¡ˆæ˜¯ä½¿ç”¨æ”¯ä»˜å®SDKã€‚"
// âŒ æ²¡æœ‰è¯´æ˜éœ€è¦æ”¯ä»˜å®APIæ–‡æ¡£å’Œå‡­è¯
```

âœ… **æ­£ç¡®ç¤ºä¾‹**ï¼ˆæ˜ç¡®å£°æ˜ï¼‰ï¼š
```
"æˆ‘è´Ÿè´£å¼€å‘æ”¯ä»˜åŠŸèƒ½ï¼ŒæŠ€æœ¯æ–¹æ¡ˆæ˜¯ä½¿ç”¨æ”¯ä»˜å®SDKã€‚

ã€éœ€è¦æ”¯ä»˜é›†æˆä¸“å®¶æä¾›çš„å¤–éƒ¨è¾“å…¥ã€‘

1. alipay_api_doc: æ”¯ä»˜å®æ”¯ä»˜æ¥å£æ–‡æ¡£
   - æ¥æºï¼šEXTERNALï¼ˆå¿…é¡»ä»å®˜æ–¹è·å–ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šPDF or Markdown
   - éªŒè¯æ ‡å‡†ï¼š
     * åŒ…å«API endpoint URL
     * åŒ…å«ç­¾åæ–¹æ³•
     * åŒ…å«è¯·æ±‚å‚æ•°
   - åŸå› ï¼šAPIæ–‡æ¡£ä¸èƒ½è™šæ„ï¼Œå¿…é¡»ä½¿ç”¨å®˜æ–¹æ–‡æ¡£

2. alipay_credentials: æ”¯ä»˜å®åº”ç”¨å‡­æ®
   - æ¥æºï¼šEXTERNALï¼ˆç¬¬ä¸‰æ–¹å‡­è¯ï¼‰
   - ç´§æ€¥åº¦ï¼šBLOCKING
   - æœŸæœ›æ ¼å¼ï¼šJSONï¼ˆappId, privateKeyï¼‰
   - åŸå› ï¼šå‡­æ®å¿…é¡»ä»æ”¯ä»˜å®å¼€æ”¾å¹³å°è·å–

é™¤äº†ä»¥ä¸Š2é¡¹ï¼Œå…¶ä»–æŠ€æœ¯ç»†èŠ‚ï¼ˆSDKé€‰æ‹©ã€ä»£ç ç»“æ„ï¼‰æˆ‘å¯ä»¥ç”¨æˆ‘çš„å†…éƒ¨çŸ¥è¯†å¤„ç†ã€‚"
```
```

### 6.2 ä¼šè®®äº§å‡ºæ•°æ®ç»“æ„

```python
class MeetingOutcome:
    """
    ä¼šè®®äº§å‡ºæ•°æ®ç»“æ„
    """
    meeting_id: str
    outcome: Literal["APPROVED", "NEED_MORE_INFO", "DEFERRED"]

    # åŸæœ‰ï¼šä»»åŠ¡åˆ†é…
    task_assignments: List[TaskAssignment]

    # ã€æ–°å¢ã€‘ç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
    user_input_requirements: UserInputRequirements

class UserInputRequirements:
    """
    ç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
    """
    request_id: str
    created_at: str
    status: Literal["WAITING_FOR_USER", "PARTIAL", "COMPLETE"]

    inputs: List[InputRequirement]

    summary: InputSummary
    next_steps: List[str]

class InputRequirement:
    """
    å•ä¸ªè¾“å…¥éœ€æ±‚
    """
    input_id: str
    description: str
    requested_by: str  # è¯·æ±‚æ­¤è¾“å…¥çš„Agent ID
    needed_by_tasks: List[str]  # ä¾èµ–æ­¤è¾“å…¥çš„ä»»åŠ¡IDåˆ—è¡¨

    urgency: Literal["BLOCKING", "OPTIONAL"]
    source_type: Literal["EXTERNAL", "INTERNAL"]

    expected_format: str
    validation_criteria: List[str]

    reason: str  # ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªè¾“å…¥
    examples: Optional[str]  # ç¤ºä¾‹
    fallback: Optional[str]  # å¦‚æœæ— æ³•æä¾›çš„æ›¿ä»£æ–¹æ¡ˆ
    where_to_find: Optional[str]  # åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°

class InputSummary:
    """
    è¾“å…¥éœ€æ±‚æ±‡æ€»
    """
    total_inputs: int
    blocking_count: int
    optional_count: int
    estimated_preparation_time: str  # é¢„ä¼°ç”¨æˆ·å‡†å¤‡æ—¶é—´
```

### 6.3 ç”¨æˆ·è¾“å…¥å¤„ç†æµç¨‹

```python
class GeneralManager:
    """
    æ€»ç»ç†çš„è¾“å…¥å¤„ç†é€»è¾‘
    """

    def handle_user_inputs(self, meeting_id: str, input_files: List[File]) -> dict:
        """
        å¤„ç†ç”¨æˆ·æä¾›çš„è¾“å…¥æ–‡ä»¶

        Returns:
            {
                "status": "READY_TO_EXECUTE" | "WAITING_FOR_MORE_INPUTS",
                "validation_results": [...],
                "missing_blocking": [...]
            }
        """

        # 1. åŠ è½½ä¼šè®®ç”Ÿæˆçš„è¾“å…¥éœ€æ±‚æ¸…å•
        requirements = self.load_input_requirements(meeting_id)

        # 2. éªŒè¯æ¯ä¸ªæ–‡ä»¶
        validation_results = []
        for file in input_files:
            req = self.find_requirement(requirements, file.input_id)
            result = self.validate_input(file, req)
            validation_results.append(result)

            # è®°å½•éªŒè¯æ—¥å¿—
            self.log_validation(file.input_id, result)

        # 3. æ£€æŸ¥BLOCKINGè¾“å…¥æ˜¯å¦é½å…¨
        blocking_reqs = [r for r in requirements if r.urgency == "BLOCKING"]
        provided_input_ids = [f.input_id for f in input_files]

        missing_blocking = [
            r.input_id for r in blocking_reqs
            if r.input_id not in provided_input_ids
        ]

        if missing_blocking:
            # è¿˜æœ‰ç¼ºå°‘çš„å¿…é¡»è¾“å…¥
            self.notify_user_missing_inputs(meeting_id, missing_blocking)
            return {
                "status": "WAITING_FOR_MORE_INPUTS",
                "validation_results": validation_results,
                "missing_blocking": missing_blocking
            }

        # 4. åˆ†å‘è¾“å…¥ç»™å¯¹åº”çš„ä¸“å®¶
        for req in requirements:
            if req.input_id in provided_input_ids:
                file = self.find_file(input_files, req.input_id)

                # å‘é€ç»™éœ€è¦æ­¤è¾“å…¥çš„æ‰€æœ‰ä»»åŠ¡
                for task_id in req.needed_by_tasks:
                    agent = self.get_agent_for_task(task_id)
                    self.send_input_to_agent(agent, file, task_id, req)

        # 5. æ›´æ–°éœ€æ±‚æ¸…å•çŠ¶æ€
        self.update_requirement_status(meeting_id, "COMPLETE")

        # 6. å¯åŠ¨ä»»åŠ¡æ‰§è¡Œ
        self.start_tasks(meeting_id)

        return {
            "status": "READY_TO_EXECUTE",
            "validation_results": validation_results,
            "missing_blocking": []
        }

    def validate_input(self, file: File, requirement: InputRequirement) -> dict:
        """
        éªŒè¯è¾“å…¥æ–‡ä»¶
        """
        errors = []
        warnings = []

        # Level 1: æ ¼å¼éªŒè¯
        if not self.check_format(file, requirement.expected_format):
            errors.append(f"æ ¼å¼é”™è¯¯ï¼ŒæœŸæœ›ï¼š{requirement.expected_format}")

        # Level 2: å†…å®¹å®Œæ•´æ€§
        for criteria in requirement.validation_criteria:
            if not self.check_criteria(file, criteria):
                errors.append(f"ç¼ºå°‘å¿…è¦å†…å®¹ï¼š{criteria}")

        # Level 3: é€»è¾‘ä¸€è‡´æ€§
        consistency_result = self.check_consistency(file)
        if not consistency_result["consistent"]:
            warnings.extend(consistency_result["warnings"])

        # ç”ŸæˆéªŒè¯æŠ¥å‘Š
        is_valid = len(errors) == 0

        if is_valid:
            self.mark_input_validated(file.input_id)

        return {
            "valid": is_valid,
            "errors": errors,
            "warnings": warnings
        }

    def send_input_to_agent(
        self,
        agent: Agent,
        file: File,
        task_id: str,
        requirement: InputRequirement
    ):
        """
        å‘é€è¾“å…¥ç»™Agent

        å‘é€ä»»åŠ¡åˆ†é…æ¶ˆæ¯ï¼Œé™„å¸¦ç”¨æˆ·è¾“å…¥
        """
        message = {
            "message_type": "TASK_ASSIGNMENT_WITH_INPUT",
            "from_agent": "agent_001_general_manager",
            "to_agent": agent.agent_id,
            "task": {
                "task_id": task_id,
                "title": f"{requirement.input_id}ç›¸å…³ä»»åŠ¡",
                "input": {
                    "user_input": file.file_path
                },
                "output": {...},
                "deadline": ...
            },
            "attached_input": {
                "input_id": requirement.input_id,
                "file_path": file.file_path,
                "provided_by": "user",
                "validated": True
            }
        }

        self.send_message(agent.inbox_path, message)
```

### 6.4 æ–‡ä»¶ç›‘æ§ç³»ç»Ÿ

```python
class UserInputMonitor:
    """
    ç”¨æˆ·è¾“å…¥æ–‡ä»¶ç›‘æ§æœåŠ¡

    ç›‘æ§ user_inputs/<meeting_id>/ ç›®å½•
    æ£€æµ‹æ–°æ–‡ä»¶å¹¶é€šçŸ¥æ€»ç»ç†
    """

    def __init__(self, meeting_id: str):
        self.meeting_id = meeting_id
        self.watch_path = f"user_inputs/{meeting_id}/"
        self gm_agent = get_agent("agent_001_general_manager")

    def start_monitoring(self):
        """
        å¼€å§‹ç›‘æ§æ–‡ä»¶å˜åŒ–
        """
        # ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç›‘æ§äº‹ä»¶ï¼ˆinotify / FSEventsï¼‰
        observer = Observer()
        observer.schedule(
            InputFileEventHandler(self),
            self.watch_path,
            recursive=False
        )
        observer.start()

class InputFileEventHandler(FileSystemEventHandler):
    """
    æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨
    """

    def on_created(self, event):
        """
        æ–°æ–‡ä»¶åˆ›å»ºæ—¶è§¦å‘
        """
        if event.is_directory:
            return

        file_path = event.src_path
        file_name = os.path.basename(file_path)

        # é€šçŸ¥æ€»ç»ç†
        self.notify_general_manager(file_path)

    def notify_general_manager(self, file_path: str):
        """
        é€šçŸ¥æ€»ç»ç†æœ‰æ–°æ–‡ä»¶
        """
        message = {
            "message_type": "NEW_USER_INPUT",
            "from_agent": "system",
            "to_agent": "agent_001_general_manager",
            "input_file": {
                "file_path": file_path,
                "file_name": os.path.basename(file_path),
                "meeting_id": self.meeting_id
            }
        }

        self.gm_agent.send_message_to_inbox(message)
```

---

## ä¸ƒã€ä¼˜åŠ¿æ€»ç»“

### 7.1 å¯¹ç”¨æˆ·çš„å¥½å¤„

| æ–¹é¢ | åŸæµç¨‹ | æ–°æµç¨‹ |
|------|--------|--------|
| **äº†è§£éœ€æ±‚** | ä»»åŠ¡å¼€å§‹åæ‰çŸ¥é“ç¼ºä»€ä¹ˆ | ä¼šè®®ç»“æŸåç«‹å³çŸ¥é“éœ€è¦ä»€ä¹ˆ |
| **å‡†å¤‡æ—¶é—´** | å¤šæ¬¡è¢«æ‰“æ–­ï¼Œåˆ†æ•£å‡†å¤‡ | ä¸€æ¬¡æ€§å‡†å¤‡ï¼Œé›†ä¸­é«˜æ•ˆ |
| **ææ–™è´¨é‡** | åŒ†å¿™è¡¥å……ï¼Œå¯èƒ½ä¸å®Œæ•´ | æŒ‰æ¸…å•å‡†å¤‡ï¼Œä¸æ˜“é—æ¼ |
| **æ²Ÿé€šæˆæœ¬** | å¤šæ¬¡å¾€è¿”ï¼Œä½“éªŒå·® | ä¸€æ¬¡æ€§ç¡®è®¤ï¼Œæ¸…æ™°æ˜ç¡® |

### 7.2 å¯¹ç³»ç»Ÿçš„å¥½å¤„

| æ–¹é¢ | åŸæµç¨‹ | æ–°æµç¨‹ |
|------|--------|--------|
| **ä»»åŠ¡è¿ç»­æ€§** | æ‰§è¡Œä¸­å¤šæ¬¡é˜»å¡ | ä¸€æ¬¡æ€§æ”¶é›†ï¼Œè¿ç»­æ‰§è¡Œ |
| **æ—¶é—´æ•ˆç‡** | ç­‰å¾…+æ‰§è¡Œåå¤äº¤æ›¿ | å‰æœŸç­‰å¾…ï¼ŒåæœŸè¿ç»­æ‰§è¡Œ |
| **èµ„æºåˆ©ç”¨** | Agentç­‰å¾…æ—¶é—´é•¿ | Agenté«˜æ•ˆåˆ©ç”¨æ—¶é—´ |
| **è¿›åº¦å¯æ§** | æ— æ³•é¢„ä¼°ä½•æ—¶ç¼ºè¾“å…¥ | æå‰çŸ¥é“æ‰€æœ‰ä¾èµ– |

### 7.3 å¯¹äº§å‡ºçš„å¥½å¤„

| æ–¹é¢ | åŸæµç¨‹ | æ–°æµç¨‹ |
|------|--------|--------|
| **äº§å‡ºè´¨é‡** | å¯èƒ½æœ‰è™šå‡å†…å®¹ | ç¡®ä¿ä½¿ç”¨çœŸå®æ•°æ® |
| **äº§å‡ºå¯é æ€§** | ä¾èµ–å‡è®¾å’ŒçŒœæµ‹ | åŸºäºçœŸå®è¾“å…¥ |
| **ç”¨æˆ·ä¿¡ä»»åº¦** | ä½ï¼ˆå¯èƒ½æœ‰å¹»è§‰ï¼‰ | é«˜ï¼ˆåŸºäºçœŸå®ææ–™ï¼‰ |

---

## å…«ã€ä¸å…¶ä»–æœºåˆ¶çš„ååŒ

### 8.1 ä¸é˜²å¹»è§‰æœºåˆ¶çš„é…åˆ

**ä¼šè®®é˜¶æ®µ**ï¼š
- è¯†åˆ«æ‰€æœ‰EXTERNALè¾“å…¥éœ€æ±‚
- å£°æ˜"ä¸èƒ½è™šæ„"çš„ç†ç”±

**æ‰§è¡Œé˜¶æ®µ**ï¼š
- ä¸“å®¶æ”¶åˆ°çœŸå®è¾“å…¥åæ‰§è¡Œ
- ä¸å†å› ç¼ºè¾“å…¥è€Œè™šæ„

**ç»“æœ**ï¼š
- ä»æºå¤´é˜²æ­¢å¹»è§‰
- æ‰€æœ‰é¡¹ç›®ç‰¹å®šã€ç¬¬ä¸‰æ–¹ä¿¡æ¯éƒ½æ¥è‡ªçœŸå®è¾“å…¥

### 8.2 ä¸ä»»åŠ¡é˜»å¡æœºåˆ¶çš„é…åˆ

**åŸé˜»å¡æœºåˆ¶**ï¼š
- ä¸“å®¶æ‰§è¡Œæ—¶å‘ç°ç¼ºè¾“å…¥ â†’ BLOCKED

**æ–°æœºåˆ¶**ï¼š
- ä¼šè®®é˜¶æ®µè¯†åˆ« â†’ ç”¨æˆ·ä¸€æ¬¡æ€§æä¾› â†’ ä¸å†é˜»å¡

**ä¿ç•™é˜»å¡çš„åœºæ™¯**ï¼š
- **æ‰§è¡Œä¸­æ–°å‘ç°çš„è¾“å…¥éœ€æ±‚**ï¼š
  - ä¼šè®®æ—¶æœªé¢„è§åˆ°çš„
  - æ‰§è¡Œä¸­æ‰å‘ç°éœ€è¦çš„
  - ç”¨æˆ·å¯ä»¥éšæ—¶è¡¥å……

**ä¸¤è€…äº’è¡¥**ï¼š
- ä¼šè®®é˜¶æ®µï¼šè§£å†³80%çš„è¾“å…¥éœ€æ±‚ï¼ˆå¯é¢„è§çš„ï¼‰
- æ‰§è¡Œé˜¶æ®µï¼šå¤„ç†20%çš„çªå‘éœ€æ±‚ï¼ˆä¸å¯é¢„è§çš„ï¼‰

### 8.3 ä¸çŸ¥è¯†åº“çš„é…åˆ

**ä¼šè®®ä¸­çš„è¾“å…¥è¯†åˆ«**ï¼š

```
æ€»ç»ç†ï¼š"éœ€è¦ç”¨æˆ·è¡¨ç»“æ„"

ä¸“å®¶æ€è€ƒï¼š
  â†’ çŸ¥è¯†åº“ä¸­æ˜¯å¦æœ‰ï¼Ÿ
  â†’ çŸ¥è¯†åº“æŸ¥è¯¢ï¼š"user_table_schema"
  â†’ å¦‚æœæœ‰ â†’ æ ‡è®°ä¸ºEXTERNAL-VALIDATEDï¼ˆæ¥è‡ªçŸ¥è¯†åº“ï¼‰
  â†’ å¦‚æœæ—  â†’ æ ‡è®°ä¸ºEXTERNALï¼ˆéœ€è¦ç”¨æˆ·æä¾›ï¼‰
```

**ç»“æœ**ï¼š
- çŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯å¯ä»¥è¢«å¤ç”¨
- ç”¨æˆ·åªéœ€æä¾›çŸ¥è¯†åº“ä¸­æ²¡æœ‰çš„
- å‡å°‘ç”¨æˆ·çš„å‡†å¤‡å·¥ä½œ

---

## ä¹ã€å®æ–½è¦ç‚¹

### 9.1 ä¼šè®®æç¤ºè¯å¿…é¡»å¼ºè°ƒ

**åœ¨æ‰€æœ‰Agentçš„ä¼šè®®æç¤ºè¯ä¸­**ï¼š
- æ˜ç¡®"è¯†åˆ«å¤–éƒ¨è¾“å…¥"çš„èŒè´£
- æä¾›åˆ¤æ–­INTERNAL vs EXTERNALçš„æ ‡å‡†
- æä¾›å£°æ˜æ ¼å¼æ¨¡æ¿
- ç»™å‡ºæ­£ç¡®å’Œé”™è¯¯ç¤ºä¾‹

### 9.2 ä¼šè®®äº§å‡ºå¿…é¡»åŒ…å«ç”¨æˆ·è¾“å…¥æ¸…å•

**ä¼šè®®äº§å‡ºå¿…é¡»åŒ…å«**ï¼š
- `user_input_requirements` å­—æ®µ
- æ‰€æœ‰EXTERNALè¾“å…¥çš„è¯¦ç»†è¯´æ˜
- ç”¨æˆ·å‹å¥½çš„Markdownæ–‡æ¡£

### 9.3 æ€»ç»ç†å¿…é¡»éªŒè¯å’Œåˆ†å‘

**æ€»ç»ç†æ”¶åˆ°ç”¨æˆ·è¾“å…¥å**ï¼š
- éªŒè¯æ¯ä¸ªè¾“å…¥æ–‡ä»¶
- å‘ç”¨æˆ·æŠ¥å‘ŠéªŒè¯ç»“æœ
- åˆ†å‘ç»™å¯¹åº”çš„ä¸“å®¶
- å¯åŠ¨ä»»åŠ¡æ‰§è¡Œ

### 9.4 æ–‡ä»¶ç›‘æ§ç³»ç»Ÿ

**å®æ—¶ç›‘æ§**ï¼š
- ç›‘æ§ `user_inputs/<meeting_id>/` ç›®å½•
- æ£€æµ‹æ–°æ–‡ä»¶å¹¶é€šçŸ¥æ€»ç»ç†
- æ”¯æŒåˆ†æ‰¹æä¾›è¾“å…¥

---

## åã€æ€»ç»“

### æ ¸å¿ƒæ”¹å˜

**åŸæµç¨‹**ï¼š
```
ä¼šè®® â†’ åˆ†é…ä»»åŠ¡ â†’ ä¸“å®¶æ‰§è¡Œ â†’ å‘ç°ç¼ºè¾“å…¥ â†’ é˜»å¡ â†’ ç­‰å¾… â†’ ç”¨æˆ·è¡¥å…… â†’ ç»§ç»­
```

**æ–°æµç¨‹**ï¼š
```
ä¼šè®® â†’ ã€è¯†åˆ«è¾“å…¥éœ€æ±‚ã€‘â†’ ä¸€æ¬¡æ€§æ”¶é›†è¾“å…¥ â†’ éªŒè¯åˆ†å‘ â†’ ä¸“å®¶è¿ç»­æ‰§è¡Œ
```

### å…³é”®ä¼˜åŠ¿

> **"æå‰è¯†åˆ«ã€ä¸€æ¬¡æ€§æ”¶é›†ã€è¿ç»­æ‰§è¡Œ"**
>
> **ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼š**
> - æ¸…æ™°çŸ¥é“éœ€è¦æä¾›ä»€ä¹ˆ
> - å¯ä»¥ä¸€æ¬¡æ€§å‡†å¤‡
> - ä¸è¢«å¤šæ¬¡æ‰“æ‰°
>
> **ç³»ç»Ÿæ•ˆç‡æ›´é«˜ï¼š**
> - ä»»åŠ¡è¿ç»­æ‰§è¡Œ
> - ä¸å› ç¼ºè¾“å…¥è€Œåå¤é˜»å¡
> - èµ„æºåˆ©ç”¨æ›´å……åˆ†
>
> **äº§å‡ºè´¨é‡æ›´å¯é ï¼š**
> - æ‰€æœ‰å¤–éƒ¨ä¿¡æ¯éƒ½æ¥è‡ªçœŸå®è¾“å…¥
> - ä»æºå¤´é˜²æ­¢å¹»è§‰
> - äº§å‡ºåŸºäºçœŸå®æ•°æ®

### å®æ–½ä¼˜å…ˆçº§

**P0ï¼ˆå¿…é¡»ï¼‰**ï¼š
- âœ… ä¼šè®®LLMæç¤ºè¯å¢åŠ è¾“å…¥è¯†åˆ«æ¨¡å—
- âœ… ä¼šè®®äº§å‡ºåŒ…å«ç”¨æˆ·è¾“å…¥éœ€æ±‚æ¸…å•
- âœ… æ€»ç»ç†éªŒè¯å’Œåˆ†å‘è¾“å…¥çš„æµç¨‹

**P1ï¼ˆé‡è¦ï¼‰**ï¼š
- âœ… ç”¨æˆ·å‹å¥½çš„éœ€æ±‚æ–‡æ¡£ç”Ÿæˆ
- âœ… æ–‡ä»¶ç›‘æ§ç³»ç»Ÿ
- âœ… åˆ†æ‰¹æä¾›è¾“å…¥çš„æ”¯æŒ

**P2ï¼ˆä¼˜åŒ–ï¼‰**ï¼š
- ğŸ”² è¾“å…¥éœ€æ±‚çš„æ™ºèƒ½æ¨èï¼ˆåŸºäºå†å²é¡¹ç›®ï¼‰
- ğŸ”² è¾“å…¥æ¨¡æ¿ç”Ÿæˆï¼ˆå¸®åŠ©ç”¨æˆ·å¿«é€Ÿå‡†å¤‡ï¼‰
- ğŸ”² è¾“å…¥å¤ç”¨ï¼ˆè·¨é¡¹ç›®å¤ç”¨ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-06
**çŠ¶æ€**ï¼šâœ… ä¼šè®®é˜¶æ®µè¾“å…¥æ”¶é›†æœºåˆ¶è®¾è®¡å®Œæˆ
