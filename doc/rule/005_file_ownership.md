# 文件所有权和责任

**原则ID**: PR-005
**来源文档**: file_transfer_mechanism.md
**类别**: 文件管理

---

## 原则描述

文件的创建者拥有文件，文件保存在创建者的workspace。要分享文件时，通过inbox/outbox系统传递，接收方获得文件副本。

## 所有权规则

- **原始文件**: 保存创建者的 `workspace/<plan_id>/`
- **所有权**: 文件的创建者拥有文件
- **副本**: 接收方获得的是文件副本

## 文件分享流程

1. 创建者在自己的 `workspace/<plan_id>/` 创建文件
2. 要分享文件时，将文件复制到自己的 `outbox/<plan_id>/`
3. 系统自动投递到接收方的 `inbox/<plan_id>/`
4. 接收方从自己的 `inbox/<plan_id>/` 读取文件副本
5. 原始文件仍保留在创建者的 `workspace/<plan_id>/`

## 关键要点

- **原始文件**: 创建者的workspace始终保留原始文件
- **副本机制**: 接收方获得副本，可以自由修改不影响原始文件
- **版本控制**: 每个Agent维护自己的文件版本
- **追溯性**: 文件的来源和传递路径都可追溯

## 优势

- **独立性**: 每个Agent有自己的文件副本，互不影响
- **安全性**: 不会因为其他Agent的修改而影响自己的文件
- **灵活性**: 可以根据需要修改本地副本
- **可靠性**: 原始文件始终保留，防止数据丢失

---

**最后更新**: 2025-01-08
