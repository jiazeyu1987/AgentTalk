{
  "schema_version": "1.0",
  "plan_id": "plan_a3f5b2c8",
  "created_at": "2025-01-08T10:00:00Z",
  "nodes": [
    {
      "task_id": "task_001",
      "name": "Requirements analysis",
      "assigned_agent_id": "agent_product_manager",
      "depends_on": [],
      "required_inputs": ["user_request.md"],
      "outputs": [
        {
          "name": "requirements.md",
          "content_type": "text/markdown",
          "deliver_to": ["agent_database_expert", "agent_backend_developer"],
          "deliverable": true,
          "idempotency_key": "plan_a3f5b2c8:task_001:requirements"
        }
      ]
    },
    {
      "task_id": "task_002",
      "name": "Database design",
      "assigned_agent_id": "agent_database_expert",
      "depends_on": ["task_001"],
      "required_inputs": ["requirements.md"],
      "outputs": [
        {
          "name": "database_schema.json",
          "content_type": "application/json",
          "deliver_to": ["agent_backend_developer"],
          "deliverable": true,
          "idempotency_key": "plan_a3f5b2c8:task_002:db_schema"
        }
      ]
    },
    {
      "task_id": "task_003",
      "name": "Backend implementation",
      "assigned_agent_id": "agent_backend_developer",
      "depends_on": ["task_001", "task_002"],
      "required_inputs": ["requirements.md", "database_schema.json"],
      "outputs": [
        {
          "name": "backend_package.zip",
          "content_type": "application/zip",
          "deliver_to": ["agent_testing_engineer"],
          "deliverable": true,
          "idempotency_key": "plan_a3f5b2c8:task_003:backend_package"
        }
      ]
    }
  ],
  "routing_rules": [
    {
      "match": {
        "output_name": "requirements.md"
      },
      "deliver_to": ["agent_database_expert", "agent_backend_developer"]
    }
  ],
  "notes": "DAG doubles as a route table: system router delivers each output to deliver_to recipients."
}
